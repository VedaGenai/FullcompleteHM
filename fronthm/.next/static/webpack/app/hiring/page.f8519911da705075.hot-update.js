"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/hiring/page",{

/***/ "(app-pages-browser)/./src/app/components/Jd_threshold/sidebarCreate.jsx":
/*!***********************************************************!*\
  !*** ./src/app/components/Jd_threshold/sidebarCreate.jsx ***!
  \***********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _RoleSelector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RoleSelector */ \"(app-pages-browser)/./src/app/components/Jd_threshold/RoleSelector.jsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nconst Sidebar = (param)=>{\n    let { roles, skills_data, sendRangeValue, onCreate, sendSelectedRoles, onRoleSelect, onDashboardUpdate, jobId } = param;\n    _s();\n    const [selectedRoles, setSelectedRoles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [dashboardCount, setDashboardCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(5); // Default to 5 on scale\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [availableDashboards, setAvailableDashboards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedDashboards, setSelectedDashboards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [samplePrompts, setSamplePrompts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loadingSamplePrompts, setLoadingSamplePrompts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [thresholdId, setThresholdId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // Add state for threshold ID\n    // Helper function to generate dashboard content string from skills_data\n    const generateDashboardContent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Sidebar.useCallback[generateDashboardContent]\": (skillsData, selectedRoles)=>{\n            if (!skillsData || !selectedRoles || selectedRoles.length === 0) return \"\";\n            const role = selectedRoles[0];\n            const roleData = skillsData[role];\n            if (!roleData) return \"\";\n            let content = \"\";\n            let dashboardNumber = 1;\n            for(const category in roleData){\n                content += \"Dashboard #\".concat(dashboardNumber, \" - \").concat(category, \":\\n\");\n                const items = roleData[category];\n                for(const itemName in items){\n                    const item = items[itemName];\n                    content += \"- \".concat(itemName, \": Importance: \").concat(item.importance, \"% Rating: \").concat(item.rating, \"/10\\n\");\n                }\n                content += \"\\n\";\n                dashboardNumber++;\n            }\n            return content;\n        }\n    }[\"Sidebar.useCallback[generateDashboardContent]\"], []);\n    // Function to get threshold ID from job ID\n    const getThresholdId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Sidebar.useCallback[getThresholdId]\": async (jid)=>{\n            if (!jid) return null;\n            try {\n                const response = await fetch(\"/api/threshold-ids?job_id=\".concat(jid));\n                if (!response.ok) {\n                    console.warn(\"Failed to fetch threshold ID for job ID \".concat(jid, \": \").concat(response.status));\n                    return null;\n                }\n                const data = await response.json();\n                if (data && data.threshold_id) {\n                    console.log(\"Found threshold ID \".concat(data.threshold_id, \" for job ID \").concat(jid));\n                    return data.threshold_id;\n                } else if (data && Array.isArray(data) && data.length > 0 && data[0].threshold_id) {\n                    console.log(\"Found threshold ID \".concat(data[0].threshold_id, \" for job ID \").concat(jid));\n                    return data[0].threshold_id;\n                }\n                // If no threshold ID is found, fallback to using job ID\n                console.warn(\"No threshold ID found for job ID \".concat(jid, \", using job ID as fallback\"));\n                return parseInt(jid);\n            } catch (error) {\n                console.error(\"Error fetching threshold ID: \".concat(error));\n                return parseInt(jid); // Fallback to job ID\n            }\n        }\n    }[\"Sidebar.useCallback[getThresholdId]\"], []);\n    // Function to fetch sample prompts\n    const fetchSamplePrompts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Sidebar.useCallback[fetchSamplePrompts]\": async ()=>{\n            if (!jobId) return;\n            try {\n                setLoadingSamplePrompts(true);\n                // Try to get the actual threshold ID first\n                const tid = thresholdId || await getThresholdId(jobId);\n                if (tid) {\n                    setThresholdId(tid);\n                }\n                // Use threshold_id for API calls\n                const threshold_id = tid || parseInt(jobId);\n                console.log(\"Fetching sample prompts for threshold ID:\", threshold_id);\n                // First try the newer POST endpoint with threshold data\n                try {\n                    // Get the current threshold data to pass to the API\n                    const thresholdData = {\n                        threshold_id: threshold_id,\n                        threshold_result: skills_data && Object.keys(skills_data).length > 0 ? {\n                            roles: roles,\n                            content: generateDashboardContent(skills_data, roles),\n                            skills_data: skills_data\n                        } : null,\n                        title: roles && roles.length > 0 ? roles[0] : \"\"\n                    };\n                    // Create AbortController for timeout\n                    const controller = new AbortController();\n                    const timeoutId = setTimeout({\n                        \"Sidebar.useCallback[fetchSamplePrompts].timeoutId\": ()=>controller.abort()\n                    }[\"Sidebar.useCallback[fetchSamplePrompts].timeoutId\"], 10000);\n                    const response = await fetch('/api/recommended-prompts', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json'\n                        },\n                        body: JSON.stringify(thresholdData),\n                        signal: controller.signal\n                    });\n                    clearTimeout(timeoutId);\n                    if (!response.ok) {\n                        throw new Error(\"Failed to fetch sample prompts: \".concat(response.status));\n                    }\n                    const data = await response.json();\n                    // Handle the new format - array of PromptRecommendation objects\n                    if (Array.isArray(data) && data.length > 0) {\n                        // Format prompts for display in a more concise way\n                        const formattedPrompts = data.map({\n                            \"Sidebar.useCallback[fetchSamplePrompts].formattedPrompts\": (prompt, index)=>\"\".concat(index + 1, \". **\").concat(prompt.title, '**: \"').concat(prompt.prompt_text, '\"')\n                        }[\"Sidebar.useCallback[fetchSamplePrompts].formattedPrompts\"]).join('\\n\\n');\n                        setSamplePrompts(formattedPrompts);\n                        return;\n                    }\n                } catch (postError) {\n                    console.warn(\"Error using POST endpoint:\", postError);\n                // Fall back to the GET endpoint\n                }\n                // Fall back to the GET endpoint if POST fails\n                try {\n                    // Create AbortController for timeout\n                    const controller = new AbortController();\n                    const timeoutId = setTimeout({\n                        \"Sidebar.useCallback[fetchSamplePrompts].timeoutId\": ()=>controller.abort()\n                    }[\"Sidebar.useCallback[fetchSamplePrompts].timeoutId\"], 8000);\n                    const getResponse = await fetch(\"/api/recommended-prompts/\".concat(threshold_id), {\n                        method: 'GET',\n                        headers: {\n                            'Content-Type': 'application/json'\n                        },\n                        signal: controller.signal\n                    });\n                    clearTimeout(timeoutId);\n                    if (!getResponse.ok) {\n                        throw new Error(\"Failed to fetch sample prompts with GET: \".concat(getResponse.status));\n                    }\n                    const getData = await getResponse.json();\n                    // Handle the new format - array of PromptRecommendation objects\n                    if (Array.isArray(getData) && getData.length > 0) {\n                        // Format prompts for display in a more concise way\n                        const formattedPrompts = getData.map({\n                            \"Sidebar.useCallback[fetchSamplePrompts].formattedPrompts\": (prompt, index)=>\"\".concat(index + 1, \". **\").concat(prompt.title, '**: \"').concat(prompt.prompt_text, '\"')\n                        }[\"Sidebar.useCallback[fetchSamplePrompts].formattedPrompts\"]).join('\\n\\n');\n                        setSamplePrompts(formattedPrompts);\n                    } else {\n                        setSamplePrompts(\"No sample prompts available.\");\n                    }\n                } catch (getError) {\n                    console.error(\"Error fetching sample prompts with GET:\", getError);\n                    setSamplePrompts(\"Error loading sample prompts. Please try again.\");\n                }\n            } catch (error) {\n                console.error(\"Error fetching sample prompts:\", error);\n                setSamplePrompts(\"Error loading sample prompts. Please try again.\");\n            } finally{\n                setLoadingSamplePrompts(false);\n            }\n        }\n    }[\"Sidebar.useCallback[fetchSamplePrompts]\"], [\n        jobId,\n        roles,\n        skills_data,\n        generateDashboardContent,\n        setSamplePrompts,\n        setLoadingSamplePrompts,\n        thresholdId,\n        getThresholdId\n    ]);\n    // Function to extract prompt text from the sample prompt\n    const extractPromptText = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Sidebar.useCallback[extractPromptText]\": (fullPromptText)=>{\n            // Look for text within quotes\n            const quoteMatch = fullPromptText.match(/\"([^\"]+)\"/);\n            if (quoteMatch && quoteMatch[1]) {\n                return quoteMatch[1];\n            }\n            // Fall back to the text after the colon if no quotes are found\n            const colonMatch = fullPromptText.match(/:\\s*(.+)/);\n            if (colonMatch && colonMatch[1]) {\n                return colonMatch[1].trim();\n            }\n            return fullPromptText;\n        }\n    }[\"Sidebar.useCallback[extractPromptText]\"], []);\n    // Function to handle click on a sample prompt\n    const handleSamplePromptClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Sidebar.useCallback[handleSamplePromptClick]\": (promptText)=>{\n            const extractedPrompt = extractPromptText(promptText);\n            setMessage(extractedPrompt);\n        }\n    }[\"Sidebar.useCallback[handleSamplePromptClick]\"], [\n        extractPromptText,\n        setMessage\n    ]);\n    // Debug jobId prop and fetch prompts when needed\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Sidebar.useEffect\": ()=>{\n            console.log(\"Sidebar received jobId:\", jobId, \"typeof jobId:\", typeof jobId);\n            // Fetch threshold ID when jobId changes\n            if (jobId) {\n                getThresholdId(jobId).then({\n                    \"Sidebar.useEffect\": (tid)=>{\n                        if (tid) {\n                            setThresholdId(tid);\n                            console.log(\"Set threshold ID to \".concat(tid, \" for job ID \").concat(jobId));\n                        }\n                    }\n                }[\"Sidebar.useEffect\"]);\n            }\n            // Fetch sample prompts when jobId changes and we have the required data\n            if (jobId && roles && roles.length > 0 && skills_data && Object.keys(skills_data).length > 0) {\n                console.log(\"Fetching sample prompts with complete data\");\n                fetchSamplePrompts();\n            } else if (jobId) {\n                console.log(\"Will fetch sample prompts with just jobId (fallback method)\");\n                fetchSamplePrompts();\n            }\n        }\n    }[\"Sidebar.useEffect\"], [\n        jobId,\n        roles,\n        skills_data,\n        fetchSamplePrompts,\n        getThresholdId\n    ]);\n    // Extract available dashboard categories from skills_data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Sidebar.useEffect\": ()=>{\n            if (skills_data && Object.keys(skills_data).length > 0) {\n                // Get the first role key\n                const roleKey = Object.keys(skills_data)[0];\n                if (roleKey && skills_data[roleKey]) {\n                    // Extract categories (skills, achievements, activities, etc.)\n                    const categories = Object.keys(skills_data[roleKey]);\n                    console.log(\"Available dashboard categories:\", categories);\n                    setAvailableDashboards(categories);\n                    // Set initial selected dashboards\n                    const initialSelected = categories.slice(0, dashboardCount);\n                    setSelectedDashboards(initialSelected);\n                }\n            }\n        }\n    }[\"Sidebar.useEffect\"], [\n        skills_data\n    ]);\n    // Auto-select the first role when component loads\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Sidebar.useEffect\": ()=>{\n            console.log(\"Roles received in sidebar:\", roles);\n            if (roles && roles.length > 0) {\n                // Auto-select the first role\n                const initialRoles = [\n                    roles[0]\n                ];\n                setSelectedRoles(initialRoles);\n                // Notify parent components about the auto-selection\n                if (sendSelectedRoles) sendSelectedRoles(initialRoles);\n                if (onRoleSelect) onRoleSelect(initialRoles);\n            }\n        }\n    }[\"Sidebar.useEffect\"], [\n        roles\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Sidebar.useEffect\": ()=>{\n            if (selectedRoles.length > 0) {\n                sendSelectedRoles(selectedRoles);\n            }\n        }\n    }[\"Sidebar.useEffect\"], [\n        selectedRoles,\n        sendSelectedRoles\n    ]);\n    // Update dashboard selections when count changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Sidebar.useEffect\": ()=>{\n            if (availableDashboards.length > 0) {\n                // Limit selections to dashboard count\n                let newSelection = [\n                    ...selectedDashboards\n                ];\n                // If we have more than allowed, trim\n                if (newSelection.length > dashboardCount) {\n                    newSelection = newSelection.slice(0, dashboardCount);\n                }\n                // If we have fewer than allowed, add more\n                while(newSelection.length < dashboardCount && newSelection.length < availableDashboards.length){\n                    const nextOption = availableDashboards.find({\n                        \"Sidebar.useEffect.nextOption\": (opt)=>!newSelection.includes(opt)\n                    }[\"Sidebar.useEffect.nextOption\"]);\n                    if (nextOption) {\n                        newSelection.push(nextOption);\n                    } else {\n                        break;\n                    }\n                }\n                setSelectedDashboards(newSelection);\n            }\n        }\n    }[\"Sidebar.useEffect\"], [\n        dashboardCount,\n        availableDashboards\n    ]);\n    const handleDashboardCountChange = (e)=>{\n        const count = parseInt(e.target.value);\n        setDashboardCount(count);\n        sendRangeValue(count);\n    };\n    const handleRoleChange = (role)=>{\n        const updatedRoles = selectedRoles.includes(role) ? selectedRoles.filter((r)=>r !== role) : [\n            ...selectedRoles,\n            role\n        ];\n        setSelectedRoles(updatedRoles);\n        onRoleSelect(updatedRoles);\n    };\n    const handleDashboardSelection = (dashboard)=>{\n        if (selectedDashboards.includes(dashboard)) {\n            // Only remove if we'll still have at least one dashboard\n            if (selectedDashboards.length > 1) {\n                setSelectedDashboards(selectedDashboards.filter((d)=>d !== dashboard));\n            }\n        } else if (selectedDashboards.length < dashboardCount) {\n            setSelectedDashboards([\n                ...selectedDashboards,\n                dashboard\n            ]);\n        } else {\n            // Replace the last one\n            const newSelection = [\n                ...selectedDashboards\n            ];\n            newSelection.pop();\n            newSelection.push(dashboard);\n            setSelectedDashboards(newSelection);\n        }\n    };\n    const handleRunPrompt = async (prompt)=>{\n        try {\n            setIsLoading(true);\n            setError(null);\n            console.log(\"Running prompt:\", prompt);\n            const promptText = typeof prompt === 'string' ? prompt : String(prompt || \"\");\n            // Get current threshold ID from the jobId\n            const tid = thresholdId || await getThresholdId(jobId);\n            if (!tid && !jobId) {\n                throw new Error(\"No threshold ID or job ID available\");\n            }\n            const threshold_id = tid || parseInt(jobId);\n            console.log(\"Using threshold ID \".concat(threshold_id, \" for prompt processing\"));\n            // First, manually apply changes to the local skills data\n            const updatedSkillsData = manuallyApplyChanges(skills_data, promptText);\n            // Log the structure to debug\n            console.log(\"Original skills_data type:\", typeof skills_data);\n            console.log(\"Is original skills_data an array?\", Array.isArray(skills_data));\n            console.log(\"Updated skills_data type:\", typeof updatedSkillsData);\n            console.log(\"Is updated skills_data an array?\", Array.isArray(updatedSkillsData));\n            if (Array.isArray(updatedSkillsData)) {\n                console.log(\"Array length:\", updatedSkillsData.length);\n                if (updatedSkillsData.length > 0) {\n                    console.log(\"First element type:\", typeof updatedSkillsData[0]);\n                }\n            }\n            // Ensure we're sending an object, not an array\n            let sanitizedSkillsData = updatedSkillsData;\n            if (Array.isArray(updatedSkillsData)) {\n                if (updatedSkillsData.length > 0) {\n                    sanitizedSkillsData = updatedSkillsData[0];\n                } else {\n                    sanitizedSkillsData = {}; // Fallback to empty object if array is empty\n                }\n            }\n            console.log(\"Sanitized skills_data type:\", typeof sanitizedSkillsData);\n            try {\n                // Then, send the updated skills data to the backend to persist in the database\n                const updateResponse = await fetch('/api/update-dashboard-data', {\n                    method: 'PUT',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Accept': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        threshold_id: threshold_id,\n                        job_id: jobId,\n                        skills_data: sanitizedSkillsData,\n                        prompt: promptText\n                    })\n                });\n                if (!updateResponse.ok) {\n                    // Get content type to check if it's JSON\n                    const contentType = updateResponse.headers.get('content-type');\n                    let errorMessage = '';\n                    if (contentType && contentType.includes('application/json')) {\n                        try {\n                            const errorData = await updateResponse.json();\n                            errorMessage = errorData.error || errorData.detail || \"Server error: \".concat(updateResponse.status);\n                            console.error(\"JSON error details:\", errorData);\n                        } catch (jsonError) {\n                            const errorText = await updateResponse.text();\n                            errorMessage = \"Failed to update dashboard data: \".concat(updateResponse.status, \" - \").concat(errorText.substring(0, 100));\n                            console.error(\"Non-JSON error response:\", errorText.substring(0, 200));\n                        }\n                    } else {\n                        const errorText = await updateResponse.text();\n                        errorMessage = \"Failed to update dashboard data: \".concat(updateResponse.status, \" - \").concat(errorText.substring(0, 100));\n                        console.error(\"Non-JSON error response:\", errorText.substring(0, 200));\n                    }\n                    throw new Error(errorMessage);\n                }\n                let updateData;\n                try {\n                    updateData = await updateResponse.json();\n                    console.log(\"Dashboard data update response:\", updateData);\n                } catch (parseError) {\n                    console.warn(\"Could not parse response as JSON, but continuing:\", parseError);\n                    const responseText = await updateResponse.text();\n                    console.log(\"Response text:\", responseText.substring(0, 100));\n                }\n                // Also process the prompt through the frontend API\n                try {\n                    const processResponse = await fetch('/api/process-prompt', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'Accept': 'application/json'\n                        },\n                        body: JSON.stringify({\n                            prompt: promptText,\n                            threshold_id: threshold_id\n                        })\n                    });\n                    if (!processResponse.ok) {\n                        const errorData = await processResponse.text();\n                        console.warn(\"Process prompt warning:\", errorData.substring(0, 200));\n                    // Continue anyway since we already updated the database\n                    } else {\n                        try {\n                            const processData = await processResponse.json();\n                            console.log(\"Process prompt response:\", processData);\n                        } catch (parseError) {\n                            console.warn(\"Could not parse process response as JSON:\", parseError);\n                        }\n                    }\n                } catch (processError) {\n                    console.warn(\"Error with process-prompt API, but continuing:\", processError);\n                }\n                // Update the UI with the changes\n                if (onDashboardUpdate) {\n                    onDashboardUpdate(updatedSkillsData);\n                }\n                alert(\"Threshold scores updated successfully in the database!\");\n                // Refresh sample prompts after successful update\n                fetchSamplePrompts();\n            } catch (apiError) {\n                console.error(\"API error:\", apiError);\n                throw apiError;\n            }\n            setIsLoading(false);\n        } catch (error) {\n            console.error(\"Error processing prompt:\", error);\n            setError(\"Error updating dashboard: \".concat(error.message));\n            setIsLoading(false);\n        }\n    };\n    const manuallyApplyChanges = (currentSkillsData, promptText)=>{\n        // Ensure currentSkillsData is an object, not an array\n        let skillsDataObj = currentSkillsData;\n        if (Array.isArray(currentSkillsData)) {\n            console.log(\"Input skills_data is an array with length:\", currentSkillsData.length);\n            if (currentSkillsData.length > 0) {\n                skillsDataObj = currentSkillsData[0];\n            } else {\n                console.warn(\"Empty skills_data array provided, using empty object\");\n                skillsDataObj = {};\n            }\n        }\n        // Deep clone the current skills data to avoid mutating the original\n        const updatedSkillsData = JSON.parse(JSON.stringify(skillsDataObj));\n        // Parse the prompt text to extract changes\n        const lines = promptText.split('\\n');\n        for (const line of lines){\n            if (!line.trim()) continue;\n            // Extract skill name and values\n            let skillName = '';\n            let newValue = 0;\n            let isRating = false;\n            // Check for different patterns\n            if (line.includes(\"selection score\") || line.includes(\"rejection score\")) {\n                // Extract skill name - it's between the start and \"'s\"\n                const match = line.match(/(?:Set|Adjust)\\s+(.*?)'s/);\n                if (match && match[1]) {\n                    skillName = match[1];\n                }\n                // Extract new value - it's after \"to\" and before \"%\"\n                const valueMatch = line.match(/to\\s+(\\d+\\.\\d+)%/);\n                if (valueMatch && valueMatch[1]) {\n                    newValue = parseFloat(valueMatch[1]);\n                }\n                isRating = false; // This is an importance value\n            } else if (line.includes(\"rating\")) {\n                // Extract skill name\n                const match = line.match(/Update\\s+(.*?)'s/);\n                if (match && match[1]) {\n                    skillName = match[1];\n                }\n                // Extract new value\n                const valueMatch = line.match(/to\\s+(\\d+\\.\\d+)/);\n                if (valueMatch && valueMatch[1]) {\n                    newValue = parseFloat(valueMatch[1]);\n                }\n                isRating = true; // This is a rating value\n            } else if (line.includes(\"importance\")) {\n                // Extract skill name\n                const match = line.match(/Change\\s+(.*?)'s/);\n                if (match && match[1]) {\n                    skillName = match[1];\n                }\n                // Extract new value\n                const valueMatch = line.match(/to\\s+(\\d+\\.\\d+)%/);\n                if (valueMatch && valueMatch[1]) {\n                    newValue = parseFloat(valueMatch[1]);\n                }\n                isRating = false; // This is an importance value\n            }\n            // If we found a skill name and a new value, update the skills data\n            if (skillName && newValue) {\n                console.log(\"Updating \".concat(skillName, \" with new \").concat(isRating ? 'rating' : 'importance', \" value: \").concat(newValue));\n                // Find the skill in the skills data\n                const roleKeys = Object.keys(updatedSkillsData);\n                if (roleKeys.length === 0) {\n                    console.warn(\"No role keys found in skills data\");\n                    continue;\n                }\n                const roleKey = roleKeys[0]; // Assuming there's only one role\n                if (!roleKey) continue;\n                const roleData = updatedSkillsData[roleKey];\n                if (!roleData) {\n                    console.warn(\"No data found for role \".concat(roleKey));\n                    continue;\n                }\n                let found = false;\n                // Check in skills, achievements, and activities\n                for (const category of Object.keys(roleData)){\n                    if (roleData[category] && roleData[category][skillName]) {\n                        // Found the skill, update the value\n                        if (isRating) {\n                            roleData[category][skillName].rating = newValue;\n                        } else {\n                            roleData[category][skillName].importance = newValue;\n                        }\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) {\n                    console.warn(\"Could not find skill: \".concat(skillName, \" in the skills data\"));\n                }\n            }\n        }\n        // Ensure we return an object, not an array\n        console.log(\"Final updated skills_data type:\", typeof updatedSkillsData);\n        return updatedSkillsData;\n    };\n    // Parse sample prompts to make them clickable\n    const renderClickableSamplePrompts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Sidebar.useCallback[renderClickableSamplePrompts]\": ()=>{\n            if (!samplePrompts) return null;\n            // Ensure samplePrompts is a string\n            const promptsText = typeof samplePrompts === 'string' ? samplePrompts : String(samplePrompts || '');\n            // Match numbered items with titles, descriptions, and quotes\n            const sections = promptsText.split(/\\d+\\.\\s*\\*\\*/).filter(Boolean);\n            // If we couldn't split it properly, just show the raw content\n            if (sections.length <= 1) {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-2 bg-gray-100 rounded text-xs whitespace-pre-line\",\n                    dangerouslySetInnerHTML: {\n                        __html: promptsText.replace(/\\n/g, '<br>')\n                    }\n                }, void 0, false, {\n                    fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                    lineNumber: 619,\n                    columnNumber: 17\n                }, undefined);\n            }\n            // Map each section to a clickable prompt\n            return sections.map({\n                \"Sidebar.useCallback[renderClickableSamplePrompts]\": (section, index)=>{\n                    // Find the title\n                    const titleMatch = section.match(/([^:*]+):/);\n                    const title = titleMatch ? titleMatch[1].trim() : \"Sample \".concat(index + 1);\n                    // Find the text in quotes\n                    const quoteMatch = section.match(/\"([^\"]+)\"/);\n                    let promptText = quoteMatch ? quoteMatch[1] : section;\n                    // Truncate the prompt text if it's too long (>80 chars)\n                    const originalText = promptText;\n                    if (promptText.length > 80) {\n                        promptText = promptText.substring(0, 80) + \"...\";\n                    }\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-2 bg-gray-100 rounded cursor-pointer hover:bg-gray-200 text-xs transition-colors mb-1\",\n                        onClick: {\n                            \"Sidebar.useCallback[renderClickableSamplePrompts]\": ()=>handleSamplePromptClick(originalText)\n                        }[\"Sidebar.useCallback[renderClickableSamplePrompts]\"],\n                        title: originalText,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"font-semibold text-blue-600\",\n                                children: title\n                            }, void 0, false, {\n                                fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                lineNumber: 649,\n                                columnNumber: 21\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-gray-800 mt-1 italic bg-white p-1 rounded border border-gray-300 text-xs\",\n                                children: [\n                                    '\"',\n                                    promptText,\n                                    '\"'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                lineNumber: 650,\n                                columnNumber: 21\n                            }, undefined)\n                        ]\n                    }, \"prompt-section-\".concat(index), true, {\n                        fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                        lineNumber: 643,\n                        columnNumber: 17\n                    }, undefined);\n                }\n            }[\"Sidebar.useCallback[renderClickableSamplePrompts]\"]);\n        }\n    }[\"Sidebar.useCallback[renderClickableSamplePrompts]\"], [\n        samplePrompts,\n        handleSamplePromptClick\n    ]);\n    const handleCreate = async ()=>{\n        if (selectedRoles.length > 0) {\n            console.log(\"Creating dashboard with roles:\", selectedRoles);\n            console.log(\"Selected dashboards:\", selectedDashboards);\n            console.log(\"Number of dashboards:\", dashboardCount);\n            try {\n                setIsLoading(true);\n                setError(null);\n                // Filter skills_data to only include selected dashboards\n                const filteredSkillsData = {};\n                // For each role\n                Object.keys(skills_data).forEach((roleKey)=>{\n                    filteredSkillsData[roleKey] = {};\n                    // Only include selected dashboard categories\n                    selectedDashboards.forEach((category)=>{\n                        if (skills_data[roleKey][category]) {\n                            filteredSkillsData[roleKey][category] = skills_data[roleKey][category];\n                        }\n                    });\n                });\n                // Pass filtered data with dashboard count\n                sendSelectedRoles(selectedRoles);\n                sendRangeValue(dashboardCount);\n                // Use the jobId provided as prop instead of trying to extract from URL\n                console.log(\"jobId in handleCreate:\", jobId, \"typeof:\", typeof jobId);\n                // Get a valid numeric job ID, with good fallbacks\n                let currentJobId = 1; // Default fallback\n                if (jobId !== undefined && jobId !== null) {\n                    if (typeof jobId === 'number') {\n                        currentJobId = jobId;\n                    } else if (typeof jobId === 'string' && jobId.trim() !== '') {\n                        // Try to parse as integer if it's a string\n                        const parsed = parseInt(jobId);\n                        if (!isNaN(parsed)) {\n                            currentJobId = parsed;\n                        }\n                    }\n                }\n                console.log(\"Final currentJobId value:\", currentJobId, \"type:\", typeof currentJobId);\n                // Call the create_dashboards endpoint with the job_id and dashboard count\n                const response = await fetch(\"http://127.0.0.1:8000/api/update_dashboards/?job_id=\".concat(currentJobId, \"&num_dashboards=\").concat(dashboardCount), {\n                    method: 'PUT',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Accept': 'application/json'\n                    }\n                });\n                console.log(\"Response status:\", response.status);\n                console.log(\"Response headers:\", Object.fromEntries([\n                    ...response.headers\n                ]));\n                // Check for empty response\n                const responseText = await response.text();\n                console.log(\"Raw response:\", responseText);\n                let responseData = {};\n                if (responseText) {\n                    try {\n                        responseData = JSON.parse(responseText);\n                    } catch (parseError) {\n                        console.error(\"Error parsing response:\", parseError);\n                        setError(\"Error parsing API response: \".concat(responseText.substring(0, 100), \"...\"));\n                    }\n                }\n                if (!response.ok) {\n                    const statusText = response.statusText || \"\";\n                    let errorMessage = \"API Error (\".concat(response.status, \"): \").concat(statusText);\n                    // Handle different error types\n                    if (response.status === 422) {\n                        console.error(\"Validation Error Details:\", responseData);\n                        // Format validation errors (typical FastAPI format)\n                        if (responseData.detail && Array.isArray(responseData.detail)) {\n                            const validationErrors = responseData.detail.map((err)=>\"\".concat(err.loc.join('.'), \" - \").concat(err.msg)).join('; ');\n                            errorMessage += \" - Validation errors: \".concat(validationErrors);\n                        } else if (typeof responseData.detail === 'object') {\n                            errorMessage += \" - \".concat(JSON.stringify(responseData.detail));\n                        } else if (responseData.detail) {\n                            errorMessage += \" - \".concat(responseData.detail);\n                        }\n                    } else {\n                        // For other errors\n                        if (responseData.detail) {\n                            errorMessage += \" - \".concat(typeof responseData.detail === 'object' ? JSON.stringify(responseData.detail) : responseData.detail);\n                        }\n                    }\n                    console.error(errorMessage);\n                    throw new Error(errorMessage);\n                }\n                console.log(\"Dashboard created successfully:\", responseData);\n                // Pass the response data to the parent component\n                if (onCreate) {\n                    onCreate({\n                        roles: responseData.roles || selectedRoles,\n                        skills_data: responseData.skills_data || filteredSkillsData,\n                        num_dashboards: dashboardCount,\n                        ...responseData\n                    });\n                }\n                setMessage(\"Created dashboard for selected roles\");\n                setIsLoading(false);\n            } catch (error) {\n                console.error(\"Error creating dashboard:\", error);\n                setError(\"Error creating dashboard: \".concat(error.message));\n                setIsLoading(false);\n            }\n        }\n    };\n    // Add a button click handler for the refresh button to explicitly fetch prompts\n    const handleRefreshPrompts = async ()=>{\n        if (!jobId) {\n            console.error(\"Cannot fetch prompts: No job ID available\");\n            return;\n        }\n        console.log(\"Manually refreshing prompts for job ID:\", jobId);\n        await fetchSamplePrompts();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"p-4 bg-white rounded-lg shadow-md\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6 border rounded-lg p-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        htmlFor: \"promptInput\",\n                        className: \"block text-sm font-medium text-gray-700 mb-2\",\n                        children: \"Enter Prompt\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                        lineNumber: 800,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                        id: \"promptInput\",\n                        className: \"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\",\n                        placeholder: \"Enter your prompt here...\",\n                        rows: 3,\n                        value: message,\n                        onChange: (e)=>setMessage(e.target.value)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                        lineNumber: 803,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>handleRunPrompt(message),\n                        className: \"mt-3 w-full py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:bg-gray-400\",\n                        disabled: !message.trim() || isLoading,\n                        children: isLoading ? \"Processing...\" : \"Submit Prompt\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                        lineNumber: 811,\n                        columnNumber: 17\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center mb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm font-medium text-gray-700\",\n                                        children: \"Sample Prompts:\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                        lineNumber: 821,\n                                        columnNumber: 25\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleRefreshPrompts,\n                                        className: \"text-xs flex items-center text-blue-600 hover:text-blue-800\",\n                                        disabled: loadingSamplePrompts,\n                                        children: loadingSamplePrompts ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-600\",\n                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                    fill: \"none\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                            className: \"opacity-25\",\n                                                            cx: \"12\",\n                                                            cy: \"12\",\n                                                            r: \"10\",\n                                                            stroke: \"currentColor\",\n                                                            strokeWidth: \"4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                                            lineNumber: 830,\n                                                            columnNumber: 41\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            className: \"opacity-75\",\n                                                            fill: \"currentColor\",\n                                                            d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                                            lineNumber: 831,\n                                                            columnNumber: 41\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                                    lineNumber: 829,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                \"Refreshing...\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                            lineNumber: 828,\n                                            columnNumber: 33\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-4 h-4 mr-1\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: \"2\",\n                                                        d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                                        lineNumber: 838,\n                                                        columnNumber: 41\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                                    lineNumber: 837,\n                                                    columnNumber: 37\n                                                }, undefined),\n                                                \"Refresh\"\n                                            ]\n                                        }, void 0, true)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                        lineNumber: 822,\n                                        columnNumber: 25\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                lineNumber: 820,\n                                columnNumber: 21\n                            }, undefined),\n                            loadingSamplePrompts ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center py-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                        lineNumber: 848,\n                                        columnNumber: 29\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"mt-2 text-gray-600 text-sm\",\n                                        children: \"Loading sample prompts...\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                        lineNumber: 849,\n                                        columnNumber: 29\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                lineNumber: 847,\n                                columnNumber: 25\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-1 gap-2\",\n                                children: samplePrompts ? renderClickableSamplePrompts() : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-2 bg-gray-100 rounded cursor-pointer hover:bg-gray-200 text-sm transition-colors\",\n                                            onClick: ()=>setMessage(\"Set JavaScript's selection score to 85.5%\"),\n                                            children: \"Set JavaScript's selection score to 85.5%\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                            lineNumber: 857,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-2 bg-gray-100 rounded cursor-pointer hover:bg-gray-200 text-sm transition-colors\",\n                                            onClick: ()=>setMessage(\"Update React's rating to 4.5\"),\n                                            children: \"Update React's rating to 4.5\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                            lineNumber: 863,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-2 bg-gray-100 rounded cursor-pointer hover:bg-gray-200 text-sm transition-colors\",\n                                            onClick: ()=>setMessage(\"Change TypeScript's importance to 90.0%\"),\n                                            children: \"Change TypeScript's importance to 90.0%\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                            lineNumber: 869,\n                                            columnNumber: 37\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-2 bg-gray-100 rounded cursor-pointer hover:bg-gray-200 text-sm transition-colors\",\n                                            onClick: ()=>setMessage(\"Adjust Node.js's rejection score to 25.0%\"),\n                                            children: \"Adjust Node.js's rejection score to 25.0%\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                            lineNumber: 875,\n                                            columnNumber: 37\n                                        }, undefined)\n                                    ]\n                                }, void 0, true)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                                lineNumber: 852,\n                                columnNumber: 25\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                        lineNumber: 819,\n                        columnNumber: 17\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                lineNumber: 799,\n                columnNumber: 13\n            }, undefined),\n            message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 p-3 bg-green-100 text-green-700 rounded-md\",\n                children: message\n            }, void 0, false, {\n                fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                lineNumber: 889,\n                columnNumber: 17\n            }, undefined),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 p-3 bg-red-100 text-red-700 rounded-md\",\n                children: error\n            }, void 0, false, {\n                fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n                lineNumber: 895,\n                columnNumber: 17\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\projects\\\\CompleteHM\\\\completeHM\\\\fronthm\\\\src\\\\app\\\\components\\\\Jd_threshold\\\\sidebarCreate.jsx\",\n        lineNumber: 798,\n        columnNumber: 9\n    }, undefined);\n};\n_s(Sidebar, \"jqJmWz8inz9IUfqMGs8whfZCvmE=\");\n_c = Sidebar;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Sidebar);\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvY29tcG9uZW50cy9KZF90aHJlc2hvbGQvc2lkZWJhckNyZWF0ZS5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUN5RDtBQUNmO0FBQ2hCO0FBRTFCLE1BQU1LLFVBQVU7UUFBQyxFQUNiQyxLQUFLLEVBQ0xDLFdBQVcsRUFDWEMsY0FBYyxFQUNkQyxRQUFRLEVBQ1JDLGlCQUFpQixFQUNqQkMsWUFBWSxFQUNaQyxpQkFBaUIsRUFDakJDLEtBQUssRUFDUjs7SUFDRyxNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHZiwrQ0FBUUEsQ0FBQyxFQUFFO0lBQ3JELE1BQU0sQ0FBQ2dCLGdCQUFnQkMsa0JBQWtCLEdBQUdqQiwrQ0FBUUEsQ0FBQyxJQUFJLHdCQUF3QjtJQUNqRixNQUFNLENBQUNrQixTQUFTQyxXQUFXLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNvQixXQUFXQyxhQUFhLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNzQixPQUFPQyxTQUFTLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUN3QixxQkFBcUJDLHVCQUF1QixHQUFHekIsK0NBQVFBLENBQUMsRUFBRTtJQUNqRSxNQUFNLENBQUMwQixvQkFBb0JDLHNCQUFzQixHQUFHM0IsK0NBQVFBLENBQUMsRUFBRTtJQUMvRCxNQUFNLENBQUM0QixlQUFlQyxpQkFBaUIsR0FBRzdCLCtDQUFRQSxDQUFDLEVBQUU7SUFDckQsTUFBTSxDQUFDOEIsc0JBQXNCQyx3QkFBd0IsR0FBRy9CLCtDQUFRQSxDQUFDO0lBQ2pFLE1BQU0sQ0FBQ2dDLGFBQWFDLGVBQWUsR0FBR2pDLCtDQUFRQSxDQUFDLE9BQU8sNkJBQTZCO0lBRW5GLHdFQUF3RTtJQUN4RSxNQUFNa0MsMkJBQTJCaEMsa0RBQVdBO3lEQUFDLENBQUNpQyxZQUFZckI7WUFDdEQsSUFBSSxDQUFDcUIsY0FBYyxDQUFDckIsaUJBQWlCQSxjQUFjc0IsTUFBTSxLQUFLLEdBQUcsT0FBTztZQUV4RSxNQUFNQyxPQUFPdkIsYUFBYSxDQUFDLEVBQUU7WUFDN0IsTUFBTXdCLFdBQVdILFVBQVUsQ0FBQ0UsS0FBSztZQUNqQyxJQUFJLENBQUNDLFVBQVUsT0FBTztZQUV0QixJQUFJQyxVQUFVO1lBQ2QsSUFBSUMsa0JBQWtCO1lBRXRCLElBQUssTUFBTUMsWUFBWUgsU0FBVTtnQkFDN0JDLFdBQVcsY0FBbUNFLE9BQXJCRCxpQkFBZ0IsT0FBYyxPQUFUQyxVQUFTO2dCQUV2RCxNQUFNQyxRQUFRSixRQUFRLENBQUNHLFNBQVM7Z0JBQ2hDLElBQUssTUFBTUUsWUFBWUQsTUFBTztvQkFDMUIsTUFBTUUsT0FBT0YsS0FBSyxDQUFDQyxTQUFTO29CQUM1QkosV0FBVyxLQUE4QkssT0FBekJELFVBQVMsa0JBQTRDQyxPQUE1QkEsS0FBS0MsVUFBVSxFQUFDLGNBQXdCLE9BQVpELEtBQUtFLE1BQU0sRUFBQztnQkFDckY7Z0JBRUFQLFdBQVc7Z0JBQ1hDO1lBQ0o7WUFFQSxPQUFPRDtRQUNYO3dEQUFHLEVBQUU7SUFFTCwyQ0FBMkM7SUFDM0MsTUFBTVEsaUJBQWlCN0Msa0RBQVdBOytDQUFDLE9BQU84QztZQUN0QyxJQUFJLENBQUNBLEtBQUssT0FBTztZQUVqQixJQUFJO2dCQUNBLE1BQU1DLFdBQVcsTUFBTUMsTUFBTSw2QkFBaUMsT0FBSkY7Z0JBQzFELElBQUksQ0FBQ0MsU0FBU0UsRUFBRSxFQUFFO29CQUNkQyxRQUFRQyxJQUFJLENBQUMsMkNBQW1ESixPQUFSRCxLQUFJLE1BQW9CLE9BQWhCQyxTQUFTSyxNQUFNO29CQUMvRSxPQUFPO2dCQUNYO2dCQUVBLE1BQU1DLE9BQU8sTUFBTU4sU0FBU08sSUFBSTtnQkFDaEMsSUFBSUQsUUFBUUEsS0FBS0UsWUFBWSxFQUFFO29CQUMzQkwsUUFBUU0sR0FBRyxDQUFDLHNCQUFzRFYsT0FBaENPLEtBQUtFLFlBQVksRUFBQyxnQkFBa0IsT0FBSlQ7b0JBQ2xFLE9BQU9PLEtBQUtFLFlBQVk7Z0JBQzVCLE9BQU8sSUFBSUYsUUFBUUksTUFBTUMsT0FBTyxDQUFDTCxTQUFTQSxLQUFLbkIsTUFBTSxHQUFHLEtBQUttQixJQUFJLENBQUMsRUFBRSxDQUFDRSxZQUFZLEVBQUU7b0JBQy9FTCxRQUFRTSxHQUFHLENBQUMsc0JBQXlEVixPQUFuQ08sSUFBSSxDQUFDLEVBQUUsQ0FBQ0UsWUFBWSxFQUFDLGdCQUFrQixPQUFKVDtvQkFDckUsT0FBT08sSUFBSSxDQUFDLEVBQUUsQ0FBQ0UsWUFBWTtnQkFDL0I7Z0JBRUEsd0RBQXdEO2dCQUN4REwsUUFBUUMsSUFBSSxDQUFDLG9DQUF3QyxPQUFKTCxLQUFJO2dCQUNyRCxPQUFPYSxTQUFTYjtZQUNwQixFQUFFLE9BQU8xQixPQUFPO2dCQUNaOEIsUUFBUTlCLEtBQUssQ0FBQyxnQ0FBc0MsT0FBTkE7Z0JBQzlDLE9BQU91QyxTQUFTYixNQUFNLHFCQUFxQjtZQUMvQztRQUNKOzhDQUFHLEVBQUU7SUFFTCxtQ0FBbUM7SUFDbkMsTUFBTWMscUJBQXFCNUQsa0RBQVdBO21EQUFDO1lBQ25DLElBQUksQ0FBQ1csT0FBTztZQUVaLElBQUk7Z0JBQ0FrQix3QkFBd0I7Z0JBRXhCLDJDQUEyQztnQkFDM0MsTUFBTWdDLE1BQU0vQixlQUFlLE1BQU1lLGVBQWVsQztnQkFDaEQsSUFBSWtELEtBQUs7b0JBQ0w5QixlQUFlOEI7Z0JBQ25CO2dCQUVBLGlDQUFpQztnQkFDakMsTUFBTU4sZUFBZU0sT0FBT0YsU0FBU2hEO2dCQUNyQ3VDLFFBQVFNLEdBQUcsQ0FBQyw2Q0FBNkNEO2dCQUV6RCx3REFBd0Q7Z0JBQ3hELElBQUk7b0JBQ0Esb0RBQW9EO29CQUNwRCxNQUFNTyxnQkFBZ0I7d0JBQ2xCUCxjQUFjQTt3QkFDZFEsa0JBQWtCMUQsZUFBZTJELE9BQU9DLElBQUksQ0FBQzVELGFBQWE2QixNQUFNLEdBQUcsSUFBSTs0QkFDbkU5QixPQUFPQTs0QkFDUGlDLFNBQVNMLHlCQUF5QjNCLGFBQWFEOzRCQUMvQ0MsYUFBYUE7d0JBQ2pCLElBQUk7d0JBQ0o2RCxPQUFPOUQsU0FBU0EsTUFBTThCLE1BQU0sR0FBRyxJQUFJOUIsS0FBSyxDQUFDLEVBQUUsR0FBRztvQkFDbEQ7b0JBRUEscUNBQXFDO29CQUNyQyxNQUFNK0QsYUFBYSxJQUFJQztvQkFDdkIsTUFBTUMsWUFBWUM7NkVBQVcsSUFBTUgsV0FBV0ksS0FBSzs0RUFBSTtvQkFFdkQsTUFBTXhCLFdBQVcsTUFBTUMsTUFBTSw0QkFBNEI7d0JBQ3JEd0IsUUFBUTt3QkFDUkMsU0FBUzs0QkFDTCxnQkFBZ0I7d0JBQ3BCO3dCQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNkO3dCQUNyQmUsUUFBUVYsV0FBV1UsTUFBTTtvQkFDN0I7b0JBRUFDLGFBQWFUO29CQUViLElBQUksQ0FBQ3RCLFNBQVNFLEVBQUUsRUFBRTt3QkFDZCxNQUFNLElBQUk4QixNQUFNLG1DQUFtRCxPQUFoQmhDLFNBQVNLLE1BQU07b0JBQ3RFO29CQUVBLE1BQU1DLE9BQU8sTUFBTU4sU0FBU08sSUFBSTtvQkFFaEMsZ0VBQWdFO29CQUNoRSxJQUFJRyxNQUFNQyxPQUFPLENBQUNMLFNBQVNBLEtBQUtuQixNQUFNLEdBQUcsR0FBRzt3QkFDeEMsbURBQW1EO3dCQUNuRCxNQUFNOEMsbUJBQW1CM0IsS0FBSzRCLEdBQUc7d0ZBQUMsQ0FBQ0MsUUFBUUMsUUFDdkMsR0FBbUJELE9BQWhCQyxRQUFRLEdBQUUsUUFBMEJELE9BQXBCQSxPQUFPaEIsS0FBSyxFQUFDLFNBQTBCLE9BQW5CZ0IsT0FBT0UsV0FBVyxFQUFDO3VGQUM1REMsSUFBSSxDQUFDO3dCQUVQMUQsaUJBQWlCcUQ7d0JBQ2pCO29CQUNKO2dCQUNKLEVBQUUsT0FBT00sV0FBVztvQkFDaEJwQyxRQUFRQyxJQUFJLENBQUMsOEJBQThCbUM7Z0JBQzNDLGdDQUFnQztnQkFDcEM7Z0JBRUEsOENBQThDO2dCQUM5QyxJQUFJO29CQUNBLHFDQUFxQztvQkFDckMsTUFBTW5CLGFBQWEsSUFBSUM7b0JBQ3ZCLE1BQU1DLFlBQVlDOzZFQUFXLElBQU1ILFdBQVdJLEtBQUs7NEVBQUk7b0JBRXZELE1BQU1nQixjQUFjLE1BQU12QyxNQUFNLDRCQUF5QyxPQUFiTyxlQUFnQjt3QkFDeEVpQixRQUFRO3dCQUNSQyxTQUFTOzRCQUNMLGdCQUFnQjt3QkFDcEI7d0JBQ0FJLFFBQVFWLFdBQVdVLE1BQU07b0JBQzdCO29CQUVBQyxhQUFhVDtvQkFFYixJQUFJLENBQUNrQixZQUFZdEMsRUFBRSxFQUFFO3dCQUNqQixNQUFNLElBQUk4QixNQUFNLDRDQUErRCxPQUFuQlEsWUFBWW5DLE1BQU07b0JBQ2xGO29CQUVBLE1BQU1vQyxVQUFVLE1BQU1ELFlBQVlqQyxJQUFJO29CQUV0QyxnRUFBZ0U7b0JBQ2hFLElBQUlHLE1BQU1DLE9BQU8sQ0FBQzhCLFlBQVlBLFFBQVF0RCxNQUFNLEdBQUcsR0FBRzt3QkFDOUMsbURBQW1EO3dCQUNuRCxNQUFNOEMsbUJBQW1CUSxRQUFRUCxHQUFHO3dGQUFDLENBQUNDLFFBQVFDLFFBQzFDLEdBQW1CRCxPQUFoQkMsUUFBUSxHQUFFLFFBQTBCRCxPQUFwQkEsT0FBT2hCLEtBQUssRUFBQyxTQUEwQixPQUFuQmdCLE9BQU9FLFdBQVcsRUFBQzt1RkFDNURDLElBQUksQ0FBQzt3QkFFUDFELGlCQUFpQnFEO29CQUNyQixPQUFPO3dCQUNIckQsaUJBQWlCO29CQUNyQjtnQkFDSixFQUFFLE9BQU84RCxVQUFVO29CQUNmdkMsUUFBUTlCLEtBQUssQ0FBQywyQ0FBMkNxRTtvQkFDekQ5RCxpQkFBaUI7Z0JBQ3JCO1lBRUosRUFBRSxPQUFPUCxPQUFPO2dCQUNaOEIsUUFBUTlCLEtBQUssQ0FBQyxrQ0FBa0NBO2dCQUNoRE8saUJBQWlCO1lBQ3JCLFNBQVU7Z0JBQ05FLHdCQUF3QjtZQUM1QjtRQUNKO2tEQUFHO1FBQUNsQjtRQUFPUDtRQUFPQztRQUFhMkI7UUFBMEJMO1FBQWtCRTtRQUF5QkM7UUFBYWU7S0FBZTtJQUVoSSx5REFBeUQ7SUFDekQsTUFBTTZDLG9CQUFvQjFGLGtEQUFXQTtrREFBQyxDQUFDMkY7WUFDbkMsOEJBQThCO1lBQzlCLE1BQU1DLGFBQWFELGVBQWVFLEtBQUssQ0FBQztZQUN4QyxJQUFJRCxjQUFjQSxVQUFVLENBQUMsRUFBRSxFQUFFO2dCQUM3QixPQUFPQSxVQUFVLENBQUMsRUFBRTtZQUN4QjtZQUVBLCtEQUErRDtZQUMvRCxNQUFNRSxhQUFhSCxlQUFlRSxLQUFLLENBQUM7WUFDeEMsSUFBSUMsY0FBY0EsVUFBVSxDQUFDLEVBQUUsRUFBRTtnQkFDN0IsT0FBT0EsVUFBVSxDQUFDLEVBQUUsQ0FBQ0MsSUFBSTtZQUM3QjtZQUVBLE9BQU9KO1FBQ1g7aURBQUcsRUFBRTtJQUVMLDhDQUE4QztJQUM5QyxNQUFNSywwQkFBMEJoRyxrREFBV0E7d0RBQUMsQ0FBQ2lHO1lBQ3pDLE1BQU1DLGtCQUFrQlIsa0JBQWtCTztZQUMxQ2hGLFdBQVdpRjtRQUNmO3VEQUFHO1FBQUNSO1FBQW1CekU7S0FBVztJQUVsQyxpREFBaUQ7SUFDakRsQixnREFBU0E7NkJBQUM7WUFDTm1ELFFBQVFNLEdBQUcsQ0FBQywyQkFBMkI3QyxPQUFPLGlCQUFpQixPQUFPQTtZQUV0RSx3Q0FBd0M7WUFDeEMsSUFBSUEsT0FBTztnQkFDUGtDLGVBQWVsQyxPQUFPd0YsSUFBSTt5Q0FBQ3RDLENBQUFBO3dCQUN2QixJQUFJQSxLQUFLOzRCQUNMOUIsZUFBZThCOzRCQUNmWCxRQUFRTSxHQUFHLENBQUMsdUJBQXlDN0MsT0FBbEJrRCxLQUFJLGdCQUFvQixPQUFObEQ7d0JBQ3pEO29CQUNKOztZQUNKO1lBRUEsd0VBQXdFO1lBQ3hFLElBQUlBLFNBQVNQLFNBQVNBLE1BQU04QixNQUFNLEdBQUcsS0FBSzdCLGVBQWUyRCxPQUFPQyxJQUFJLENBQUM1RCxhQUFhNkIsTUFBTSxHQUFHLEdBQUc7Z0JBQzFGZ0IsUUFBUU0sR0FBRyxDQUFDO2dCQUNaSTtZQUNKLE9BQU8sSUFBSWpELE9BQU87Z0JBQ2R1QyxRQUFRTSxHQUFHLENBQUM7Z0JBQ1pJO1lBQ0o7UUFDSjs0QkFBRztRQUFDakQ7UUFBT1A7UUFBT0M7UUFBYXVEO1FBQW9CZjtLQUFlO0lBRWxFLDBEQUEwRDtJQUMxRDlDLGdEQUFTQTs2QkFBQztZQUNOLElBQUlNLGVBQWUyRCxPQUFPQyxJQUFJLENBQUM1RCxhQUFhNkIsTUFBTSxHQUFHLEdBQUc7Z0JBQ3BELHlCQUF5QjtnQkFDekIsTUFBTWtFLFVBQVVwQyxPQUFPQyxJQUFJLENBQUM1RCxZQUFZLENBQUMsRUFBRTtnQkFDM0MsSUFBSStGLFdBQVcvRixXQUFXLENBQUMrRixRQUFRLEVBQUU7b0JBQ2pDLDhEQUE4RDtvQkFDOUQsTUFBTUMsYUFBYXJDLE9BQU9DLElBQUksQ0FBQzVELFdBQVcsQ0FBQytGLFFBQVE7b0JBQ25EbEQsUUFBUU0sR0FBRyxDQUFDLG1DQUFtQzZDO29CQUMvQzlFLHVCQUF1QjhFO29CQUV2QixrQ0FBa0M7b0JBQ2xDLE1BQU1DLGtCQUFrQkQsV0FBV0UsS0FBSyxDQUFDLEdBQUd6RjtvQkFDNUNXLHNCQUFzQjZFO2dCQUMxQjtZQUNKO1FBQ0o7NEJBQUc7UUFBQ2pHO0tBQVk7SUFFaEIsa0RBQWtEO0lBQ2xETixnREFBU0E7NkJBQUM7WUFDTm1ELFFBQVFNLEdBQUcsQ0FBQyw4QkFBOEJwRDtZQUMxQyxJQUFJQSxTQUFTQSxNQUFNOEIsTUFBTSxHQUFHLEdBQUc7Z0JBQzNCLDZCQUE2QjtnQkFDN0IsTUFBTXNFLGVBQWU7b0JBQUNwRyxLQUFLLENBQUMsRUFBRTtpQkFBQztnQkFDL0JTLGlCQUFpQjJGO2dCQUVqQixvREFBb0Q7Z0JBQ3BELElBQUloRyxtQkFBbUJBLGtCQUFrQmdHO2dCQUN6QyxJQUFJL0YsY0FBY0EsYUFBYStGO1lBQ25DO1FBQ0o7NEJBQUc7UUFBQ3BHO0tBQU07SUFFVkwsZ0RBQVNBOzZCQUFDO1lBQ04sSUFBSWEsY0FBY3NCLE1BQU0sR0FBRyxHQUFHO2dCQUMxQjFCLGtCQUFrQkk7WUFDdEI7UUFDSjs0QkFBRztRQUFDQTtRQUFlSjtLQUFrQjtJQUVyQyxpREFBaUQ7SUFDakRULGdEQUFTQTs2QkFBQztZQUNOLElBQUl1QixvQkFBb0JZLE1BQU0sR0FBRyxHQUFHO2dCQUNoQyxzQ0FBc0M7Z0JBQ3RDLElBQUl1RSxlQUFlO3VCQUFJakY7aUJBQW1CO2dCQUUxQyxxQ0FBcUM7Z0JBQ3JDLElBQUlpRixhQUFhdkUsTUFBTSxHQUFHcEIsZ0JBQWdCO29CQUN0QzJGLGVBQWVBLGFBQWFGLEtBQUssQ0FBQyxHQUFHekY7Z0JBQ3pDO2dCQUVBLDBDQUEwQztnQkFDMUMsTUFBTzJGLGFBQWF2RSxNQUFNLEdBQUdwQixrQkFDdEIyRixhQUFhdkUsTUFBTSxHQUFHWixvQkFBb0JZLE1BQU0sQ0FBRTtvQkFDckQsTUFBTXdFLGFBQWFwRixvQkFBb0JxRixJQUFJO3dEQUFDQyxDQUFBQSxNQUFPLENBQUNILGFBQWFJLFFBQVEsQ0FBQ0Q7O29CQUMxRSxJQUFJRixZQUFZO3dCQUNaRCxhQUFhSyxJQUFJLENBQUNKO29CQUN0QixPQUFPO3dCQUNIO29CQUNKO2dCQUNKO2dCQUVBakYsc0JBQXNCZ0Y7WUFDMUI7UUFDSjs0QkFBRztRQUFDM0Y7UUFBZ0JRO0tBQW9CO0lBRXhDLE1BQU15Riw2QkFBNkIsQ0FBQ0M7UUFDaEMsTUFBTUMsUUFBUXRELFNBQVNxRCxFQUFFRSxNQUFNLENBQUNDLEtBQUs7UUFDckNwRyxrQkFBa0JrRztRQUNsQjNHLGVBQWUyRztJQUNuQjtJQUVBLE1BQU1HLG1CQUFtQixDQUFDakY7UUFDdEIsTUFBTWtGLGVBQWV6RyxjQUFjaUcsUUFBUSxDQUFDMUUsUUFDdEN2QixjQUFjMEcsTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxNQUFNcEYsUUFDaEM7ZUFBSXZCO1lBQWV1QjtTQUFLO1FBQzlCdEIsaUJBQWlCd0c7UUFDakI1RyxhQUFhNEc7SUFDakI7SUFFQSxNQUFNRywyQkFBMkIsQ0FBQ0M7UUFDOUIsSUFBSWpHLG1CQUFtQnFGLFFBQVEsQ0FBQ1ksWUFBWTtZQUN4Qyx5REFBeUQ7WUFDekQsSUFBSWpHLG1CQUFtQlUsTUFBTSxHQUFHLEdBQUc7Z0JBQy9CVCxzQkFBc0JELG1CQUFtQjhGLE1BQU0sQ0FBQ0ksQ0FBQUEsSUFBS0EsTUFBTUQ7WUFDL0Q7UUFDSixPQUFPLElBQUlqRyxtQkFBbUJVLE1BQU0sR0FBR3BCLGdCQUFnQjtZQUNuRFcsc0JBQXNCO21CQUFJRDtnQkFBb0JpRzthQUFVO1FBQzVELE9BQU87WUFDSCx1QkFBdUI7WUFDdkIsTUFBTWhCLGVBQWU7bUJBQUlqRjthQUFtQjtZQUM1Q2lGLGFBQWFrQixHQUFHO1lBQ2hCbEIsYUFBYUssSUFBSSxDQUFDVztZQUNsQmhHLHNCQUFzQmdGO1FBQzFCO0lBQ0o7SUFFQSxNQUFNbUIsa0JBQWtCLE9BQU8xQztRQUMzQixJQUFJO1lBQ0EvRCxhQUFhO1lBQ2JFLFNBQVM7WUFFVDZCLFFBQVFNLEdBQUcsQ0FBQyxtQkFBbUIwQjtZQUUvQixNQUFNZSxhQUFhLE9BQU9mLFdBQVcsV0FBV0EsU0FBUzJDLE9BQU8zQyxVQUFVO1lBRTFFLDBDQUEwQztZQUMxQyxNQUFNckIsTUFBTS9CLGVBQWUsTUFBTWUsZUFBZWxDO1lBQ2hELElBQUksQ0FBQ2tELE9BQU8sQ0FBQ2xELE9BQU87Z0JBQ2hCLE1BQU0sSUFBSW9FLE1BQU07WUFDcEI7WUFFQSxNQUFNeEIsZUFBZU0sT0FBT0YsU0FBU2hEO1lBQ3JDdUMsUUFBUU0sR0FBRyxDQUFDLHNCQUFtQyxPQUFiRCxjQUFhO1lBRS9DLHlEQUF5RDtZQUN6RCxNQUFNdUUsb0JBQW9CQyxxQkFBcUIxSCxhQUFhNEY7WUFFNUQsNkJBQTZCO1lBQzdCL0MsUUFBUU0sR0FBRyxDQUFDLDhCQUE4QixPQUFPbkQ7WUFDakQ2QyxRQUFRTSxHQUFHLENBQUMscUNBQXFDQyxNQUFNQyxPQUFPLENBQUNyRDtZQUMvRDZDLFFBQVFNLEdBQUcsQ0FBQyw2QkFBNkIsT0FBT3NFO1lBQ2hENUUsUUFBUU0sR0FBRyxDQUFDLG9DQUFvQ0MsTUFBTUMsT0FBTyxDQUFDb0U7WUFFOUQsSUFBSXJFLE1BQU1DLE9BQU8sQ0FBQ29FLG9CQUFvQjtnQkFDbEM1RSxRQUFRTSxHQUFHLENBQUMsaUJBQWlCc0Usa0JBQWtCNUYsTUFBTTtnQkFDckQsSUFBSTRGLGtCQUFrQjVGLE1BQU0sR0FBRyxHQUFHO29CQUM5QmdCLFFBQVFNLEdBQUcsQ0FBQyx1QkFBdUIsT0FBT3NFLGlCQUFpQixDQUFDLEVBQUU7Z0JBQ2xFO1lBQ0o7WUFFQSwrQ0FBK0M7WUFDL0MsSUFBSUUsc0JBQXNCRjtZQUMxQixJQUFJckUsTUFBTUMsT0FBTyxDQUFDb0Usb0JBQW9CO2dCQUNsQyxJQUFJQSxrQkFBa0I1RixNQUFNLEdBQUcsR0FBRztvQkFDOUI4RixzQkFBc0JGLGlCQUFpQixDQUFDLEVBQUU7Z0JBQzlDLE9BQU87b0JBQ0hFLHNCQUFzQixDQUFDLEdBQUcsNkNBQTZDO2dCQUMzRTtZQUNKO1lBRUE5RSxRQUFRTSxHQUFHLENBQUMsK0JBQStCLE9BQU93RTtZQUVsRCxJQUFJO2dCQUNBLCtFQUErRTtnQkFDL0UsTUFBTUMsaUJBQWlCLE1BQU1qRixNQUFNLDhCQUE4QjtvQkFDN0R3QixRQUFRO29CQUNSQyxTQUFTO3dCQUNMLGdCQUFnQjt3QkFDaEIsVUFBVTtvQkFDZDtvQkFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO3dCQUNqQnJCLGNBQWNBO3dCQUNkMkUsUUFBUXZIO3dCQUNSTixhQUFhMkg7d0JBQ2I5QyxRQUFRZTtvQkFDWjtnQkFDSjtnQkFFQSxJQUFJLENBQUNnQyxlQUFlaEYsRUFBRSxFQUFFO29CQUNwQix5Q0FBeUM7b0JBQ3pDLE1BQU1rRixjQUFjRixlQUFleEQsT0FBTyxDQUFDMkQsR0FBRyxDQUFDO29CQUMvQyxJQUFJQyxlQUFlO29CQUVuQixJQUFJRixlQUFlQSxZQUFZdEIsUUFBUSxDQUFDLHFCQUFxQjt3QkFDekQsSUFBSTs0QkFDQSxNQUFNeUIsWUFBWSxNQUFNTCxlQUFlM0UsSUFBSTs0QkFDM0MrRSxlQUFlQyxVQUFVbEgsS0FBSyxJQUFJa0gsVUFBVUMsTUFBTSxJQUFJLGlCQUF1QyxPQUF0Qk4sZUFBZTdFLE1BQU07NEJBQzVGRixRQUFROUIsS0FBSyxDQUFDLHVCQUF1QmtIO3dCQUN6QyxFQUFFLE9BQU9FLFdBQVc7NEJBQ2hCLE1BQU1DLFlBQVksTUFBTVIsZUFBZVMsSUFBSTs0QkFDM0NMLGVBQWUsb0NBQStESSxPQUEzQlIsZUFBZTdFLE1BQU0sRUFBQyxPQUFpQyxPQUE1QnFGLFVBQVVFLFNBQVMsQ0FBQyxHQUFHOzRCQUNyR3pGLFFBQVE5QixLQUFLLENBQUMsNEJBQTRCcUgsVUFBVUUsU0FBUyxDQUFDLEdBQUc7d0JBQ3JFO29CQUNKLE9BQU87d0JBQ0gsTUFBTUYsWUFBWSxNQUFNUixlQUFlUyxJQUFJO3dCQUMzQ0wsZUFBZSxvQ0FBK0RJLE9BQTNCUixlQUFlN0UsTUFBTSxFQUFDLE9BQWlDLE9BQTVCcUYsVUFBVUUsU0FBUyxDQUFDLEdBQUc7d0JBQ3JHekYsUUFBUTlCLEtBQUssQ0FBQyw0QkFBNEJxSCxVQUFVRSxTQUFTLENBQUMsR0FBRztvQkFDckU7b0JBRUEsTUFBTSxJQUFJNUQsTUFBTXNEO2dCQUNwQjtnQkFFQSxJQUFJTztnQkFDSixJQUFJO29CQUNBQSxhQUFhLE1BQU1YLGVBQWUzRSxJQUFJO29CQUN0Q0osUUFBUU0sR0FBRyxDQUFDLG1DQUFtQ29GO2dCQUNuRCxFQUFFLE9BQU9DLFlBQVk7b0JBQ2pCM0YsUUFBUUMsSUFBSSxDQUFDLHFEQUFxRDBGO29CQUNsRSxNQUFNQyxlQUFlLE1BQU1iLGVBQWVTLElBQUk7b0JBQzlDeEYsUUFBUU0sR0FBRyxDQUFDLGtCQUFrQnNGLGFBQWFILFNBQVMsQ0FBQyxHQUFHO2dCQUM1RDtnQkFFQSxtREFBbUQ7Z0JBQ25ELElBQUk7b0JBQ0EsTUFBTUksa0JBQWtCLE1BQU0vRixNQUFNLHVCQUF1Qjt3QkFDdkR3QixRQUFRO3dCQUNSQyxTQUFTOzRCQUNMLGdCQUFnQjs0QkFDaEIsVUFBVTt3QkFDZDt3QkFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDOzRCQUNqQk0sUUFBUWU7NEJBQ1IxQyxjQUFjQTt3QkFDbEI7b0JBQ0o7b0JBRUEsSUFBSSxDQUFDd0YsZ0JBQWdCOUYsRUFBRSxFQUFFO3dCQUNyQixNQUFNcUYsWUFBWSxNQUFNUyxnQkFBZ0JMLElBQUk7d0JBQzVDeEYsUUFBUUMsSUFBSSxDQUFDLDJCQUEyQm1GLFVBQVVLLFNBQVMsQ0FBQyxHQUFHO29CQUMvRCx3REFBd0Q7b0JBQzVELE9BQU87d0JBQ0gsSUFBSTs0QkFDQSxNQUFNSyxjQUFjLE1BQU1ELGdCQUFnQnpGLElBQUk7NEJBQzlDSixRQUFRTSxHQUFHLENBQUMsNEJBQTRCd0Y7d0JBQzVDLEVBQUUsT0FBT0gsWUFBWTs0QkFDakIzRixRQUFRQyxJQUFJLENBQUMsNkNBQTZDMEY7d0JBQzlEO29CQUNKO2dCQUNKLEVBQUUsT0FBT0ksY0FBYztvQkFDbkIvRixRQUFRQyxJQUFJLENBQUMsa0RBQWtEOEY7Z0JBQ25FO2dCQUVBLGlDQUFpQztnQkFDakMsSUFBSXZJLG1CQUFtQjtvQkFDbkJBLGtCQUFrQm9IO2dCQUN0QjtnQkFFQW9CLE1BQU07Z0JBRU4saURBQWlEO2dCQUNqRHRGO1lBQ0osRUFBRSxPQUFPdUYsVUFBVTtnQkFDZmpHLFFBQVE5QixLQUFLLENBQUMsY0FBYytIO2dCQUM1QixNQUFNQTtZQUNWO1lBRUFoSSxhQUFhO1FBQ2pCLEVBQUUsT0FBT0MsT0FBTztZQUNaOEIsUUFBUTlCLEtBQUssQ0FBQyw0QkFBNEJBO1lBQzFDQyxTQUFTLDZCQUEyQyxPQUFkRCxNQUFNSixPQUFPO1lBQ25ERyxhQUFhO1FBQ2pCO0lBQ0o7SUFFQSxNQUFNNEcsdUJBQXVCLENBQUNxQixtQkFBbUJuRDtRQUM3QyxzREFBc0Q7UUFDdEQsSUFBSW9ELGdCQUFnQkQ7UUFDcEIsSUFBSTNGLE1BQU1DLE9BQU8sQ0FBQzBGLG9CQUFvQjtZQUNsQ2xHLFFBQVFNLEdBQUcsQ0FBQyw4Q0FBOEM0RixrQkFBa0JsSCxNQUFNO1lBQ2xGLElBQUlrSCxrQkFBa0JsSCxNQUFNLEdBQUcsR0FBRztnQkFDOUJtSCxnQkFBZ0JELGlCQUFpQixDQUFDLEVBQUU7WUFDeEMsT0FBTztnQkFDSGxHLFFBQVFDLElBQUksQ0FBQztnQkFDYmtHLGdCQUFnQixDQUFDO1lBQ3JCO1FBQ0o7UUFFQSxvRUFBb0U7UUFDcEUsTUFBTXZCLG9CQUFvQm5ELEtBQUsyRSxLQUFLLENBQUMzRSxLQUFLQyxTQUFTLENBQUN5RTtRQUVwRCwyQ0FBMkM7UUFDM0MsTUFBTUUsUUFBUXRELFdBQVd1RCxLQUFLLENBQUM7UUFFL0IsS0FBSyxNQUFNQyxRQUFRRixNQUFPO1lBQ3RCLElBQUksQ0FBQ0UsS0FBSzFELElBQUksSUFBSTtZQUVsQixnQ0FBZ0M7WUFDaEMsSUFBSTJELFlBQVk7WUFDaEIsSUFBSUMsV0FBVztZQUNmLElBQUlDLFdBQVc7WUFFZiwrQkFBK0I7WUFDL0IsSUFBSUgsS0FBSzVDLFFBQVEsQ0FBQyxzQkFBc0I0QyxLQUFLNUMsUUFBUSxDQUFDLG9CQUFvQjtnQkFDdEUsdURBQXVEO2dCQUN2RCxNQUFNaEIsUUFBUTRELEtBQUs1RCxLQUFLLENBQUM7Z0JBQ3pCLElBQUlBLFNBQVNBLEtBQUssQ0FBQyxFQUFFLEVBQUU7b0JBQ25CNkQsWUFBWTdELEtBQUssQ0FBQyxFQUFFO2dCQUN4QjtnQkFFQSxxREFBcUQ7Z0JBQ3JELE1BQU1nRSxhQUFhSixLQUFLNUQsS0FBSyxDQUFDO2dCQUM5QixJQUFJZ0UsY0FBY0EsVUFBVSxDQUFDLEVBQUUsRUFBRTtvQkFDN0JGLFdBQVdHLFdBQVdELFVBQVUsQ0FBQyxFQUFFO2dCQUN2QztnQkFFQUQsV0FBVyxPQUFPLDhCQUE4QjtZQUNwRCxPQUNLLElBQUlILEtBQUs1QyxRQUFRLENBQUMsV0FBVztnQkFDOUIscUJBQXFCO2dCQUNyQixNQUFNaEIsUUFBUTRELEtBQUs1RCxLQUFLLENBQUM7Z0JBQ3pCLElBQUlBLFNBQVNBLEtBQUssQ0FBQyxFQUFFLEVBQUU7b0JBQ25CNkQsWUFBWTdELEtBQUssQ0FBQyxFQUFFO2dCQUN4QjtnQkFFQSxvQkFBb0I7Z0JBQ3BCLE1BQU1nRSxhQUFhSixLQUFLNUQsS0FBSyxDQUFDO2dCQUM5QixJQUFJZ0UsY0FBY0EsVUFBVSxDQUFDLEVBQUUsRUFBRTtvQkFDN0JGLFdBQVdHLFdBQVdELFVBQVUsQ0FBQyxFQUFFO2dCQUN2QztnQkFFQUQsV0FBVyxNQUFNLHlCQUF5QjtZQUM5QyxPQUNLLElBQUlILEtBQUs1QyxRQUFRLENBQUMsZUFBZTtnQkFDbEMscUJBQXFCO2dCQUNyQixNQUFNaEIsUUFBUTRELEtBQUs1RCxLQUFLLENBQUM7Z0JBQ3pCLElBQUlBLFNBQVNBLEtBQUssQ0FBQyxFQUFFLEVBQUU7b0JBQ25CNkQsWUFBWTdELEtBQUssQ0FBQyxFQUFFO2dCQUN4QjtnQkFFQSxvQkFBb0I7Z0JBQ3BCLE1BQU1nRSxhQUFhSixLQUFLNUQsS0FBSyxDQUFDO2dCQUM5QixJQUFJZ0UsY0FBY0EsVUFBVSxDQUFDLEVBQUUsRUFBRTtvQkFDN0JGLFdBQVdHLFdBQVdELFVBQVUsQ0FBQyxFQUFFO2dCQUN2QztnQkFFQUQsV0FBVyxPQUFPLDhCQUE4QjtZQUNwRDtZQUVBLG1FQUFtRTtZQUNuRSxJQUFJRixhQUFhQyxVQUFVO2dCQUN2QnpHLFFBQVFNLEdBQUcsQ0FBQyxZQUFrQ29HLE9BQXRCRixXQUFVLGNBQXlEQyxPQUE3Q0MsV0FBVyxXQUFXLGNBQWEsWUFBbUIsT0FBVEQ7Z0JBRTNGLG9DQUFvQztnQkFDcEMsTUFBTUksV0FBVy9GLE9BQU9DLElBQUksQ0FBQzZEO2dCQUM3QixJQUFJaUMsU0FBUzdILE1BQU0sS0FBSyxHQUFHO29CQUN2QmdCLFFBQVFDLElBQUksQ0FBQztvQkFDYjtnQkFDSjtnQkFFQSxNQUFNaUQsVUFBVTJELFFBQVEsQ0FBQyxFQUFFLEVBQUUsaUNBQWlDO2dCQUM5RCxJQUFJLENBQUMzRCxTQUFTO2dCQUVkLE1BQU1oRSxXQUFXMEYsaUJBQWlCLENBQUMxQixRQUFRO2dCQUMzQyxJQUFJLENBQUNoRSxVQUFVO29CQUNYYyxRQUFRQyxJQUFJLENBQUMsMEJBQWtDLE9BQVJpRDtvQkFDdkM7Z0JBQ0o7Z0JBRUEsSUFBSTRELFFBQVE7Z0JBRVosZ0RBQWdEO2dCQUNoRCxLQUFLLE1BQU16SCxZQUFZeUIsT0FBT0MsSUFBSSxDQUFDN0IsVUFBVztvQkFDMUMsSUFBSUEsUUFBUSxDQUFDRyxTQUFTLElBQUlILFFBQVEsQ0FBQ0csU0FBUyxDQUFDbUgsVUFBVSxFQUFFO3dCQUNyRCxvQ0FBb0M7d0JBQ3BDLElBQUlFLFVBQVU7NEJBQ1Z4SCxRQUFRLENBQUNHLFNBQVMsQ0FBQ21ILFVBQVUsQ0FBQzlHLE1BQU0sR0FBRytHO3dCQUMzQyxPQUFPOzRCQUNIdkgsUUFBUSxDQUFDRyxTQUFTLENBQUNtSCxVQUFVLENBQUMvRyxVQUFVLEdBQUdnSDt3QkFDL0M7d0JBQ0FLLFFBQVE7d0JBQ1I7b0JBQ0o7Z0JBQ0o7Z0JBRUEsSUFBSSxDQUFDQSxPQUFPO29CQUNSOUcsUUFBUUMsSUFBSSxDQUFDLHlCQUFtQyxPQUFWdUcsV0FBVTtnQkFDcEQ7WUFDSjtRQUNKO1FBRUEsMkNBQTJDO1FBQzNDeEcsUUFBUU0sR0FBRyxDQUFDLG1DQUFtQyxPQUFPc0U7UUFDdEQsT0FBT0E7SUFDWDtJQUVBLDhDQUE4QztJQUM5QyxNQUFNbUMsK0JBQStCakssa0RBQVdBOzZEQUFDO1lBQzdDLElBQUksQ0FBQzBCLGVBQWUsT0FBTztZQUUzQixtQ0FBbUM7WUFDbkMsTUFBTXdJLGNBQWMsT0FBT3hJLGtCQUFrQixXQUFXQSxnQkFBZ0JtRyxPQUFPbkcsaUJBQWlCO1lBRWhHLDZEQUE2RDtZQUM3RCxNQUFNeUksV0FBV0QsWUFBWVYsS0FBSyxDQUFDLGdCQUFnQmxDLE1BQU0sQ0FBQzhDO1lBRTFELDhEQUE4RDtZQUM5RCxJQUFJRCxTQUFTakksTUFBTSxJQUFJLEdBQUc7Z0JBQ3RCLHFCQUNJLDhEQUFDbUk7b0JBQ0dDLFdBQVU7b0JBQ1ZDLHlCQUF5Qjt3QkFBRUMsUUFBUU4sWUFBWU8sT0FBTyxDQUFDLE9BQU87b0JBQVE7Ozs7OztZQUdsRjtZQUVBLHlDQUF5QztZQUN6QyxPQUFPTixTQUFTbEYsR0FBRztxRUFBQyxDQUFDeUYsU0FBU3ZGO29CQUMxQixpQkFBaUI7b0JBQ2pCLE1BQU13RixhQUFhRCxRQUFRN0UsS0FBSyxDQUFDO29CQUNqQyxNQUFNM0IsUUFBUXlHLGFBQWFBLFVBQVUsQ0FBQyxFQUFFLENBQUM1RSxJQUFJLEtBQUssVUFBb0IsT0FBVlosUUFBUTtvQkFFcEUsMEJBQTBCO29CQUMxQixNQUFNUyxhQUFhOEUsUUFBUTdFLEtBQUssQ0FBQztvQkFDakMsSUFBSUksYUFBYUwsYUFBYUEsVUFBVSxDQUFDLEVBQUUsR0FBRzhFO29CQUU5Qyx3REFBd0Q7b0JBQ3hELE1BQU1FLGVBQWUzRTtvQkFDckIsSUFBSUEsV0FBVy9ELE1BQU0sR0FBRyxJQUFJO3dCQUN4QitELGFBQWFBLFdBQVcwQyxTQUFTLENBQUMsR0FBRyxNQUFNO29CQUMvQztvQkFFQSxxQkFDSSw4REFBQzBCO3dCQUVHQyxXQUFVO3dCQUNWTyxPQUFPO2lGQUFFLElBQU03RSx3QkFBd0I0RTs7d0JBQ3ZDMUcsT0FBTzBHOzswQ0FFUCw4REFBQ1A7Z0NBQUlDLFdBQVU7MENBQStCcEc7Ozs7OzswQ0FDOUMsOERBQUNtRztnQ0FBSUMsV0FBVTs7b0NBQWdGO29DQUN6RnJFO29DQUFXOzs7Ozs7Ozt1QkFQWixrQkFBd0IsT0FBTmQ7Ozs7O2dCQVduQzs7UUFDSjs0REFBRztRQUFDekQ7UUFBZXNFO0tBQXdCO0lBRTNDLE1BQU04RSxlQUFlO1FBQ25CLElBQUlsSyxjQUFjc0IsTUFBTSxHQUFHLEdBQUc7WUFDNUJnQixRQUFRTSxHQUFHLENBQUMsa0NBQWtDNUM7WUFDOUNzQyxRQUFRTSxHQUFHLENBQUMsd0JBQXdCaEM7WUFDcEMwQixRQUFRTSxHQUFHLENBQUMseUJBQXlCMUM7WUFFckMsSUFBSTtnQkFDQUssYUFBYTtnQkFDYkUsU0FBUztnQkFFVCx5REFBeUQ7Z0JBQ3pELE1BQU0wSixxQkFBcUIsQ0FBQztnQkFFeEIsZ0JBQWdCO2dCQUNoQi9HLE9BQU9DLElBQUksQ0FBQzVELGFBQWEySyxPQUFPLENBQUM1RSxDQUFBQTtvQkFDN0IyRSxrQkFBa0IsQ0FBQzNFLFFBQVEsR0FBRyxDQUFDO29CQUUvQiw2Q0FBNkM7b0JBQzdDNUUsbUJBQW1Cd0osT0FBTyxDQUFDekksQ0FBQUE7d0JBQ3ZCLElBQUlsQyxXQUFXLENBQUMrRixRQUFRLENBQUM3RCxTQUFTLEVBQUU7NEJBQ2hDd0ksa0JBQWtCLENBQUMzRSxRQUFRLENBQUM3RCxTQUFTLEdBQUdsQyxXQUFXLENBQUMrRixRQUFRLENBQUM3RCxTQUFTO3dCQUMxRTtvQkFDSjtnQkFDSjtnQkFFQSwwQ0FBMEM7Z0JBQzFDL0Isa0JBQWtCSTtnQkFDbEJOLGVBQWVRO2dCQUVmLHVFQUF1RTtnQkFDdkVvQyxRQUFRTSxHQUFHLENBQUMsMEJBQTBCN0MsT0FBTyxXQUFXLE9BQU9BO2dCQUUvRCxrREFBa0Q7Z0JBQ2xELElBQUlzSyxlQUFlLEdBQUcsbUJBQW1CO2dCQUV6QyxJQUFJdEssVUFBVXVLLGFBQWF2SyxVQUFVLE1BQU07b0JBQ3pDLElBQUksT0FBT0EsVUFBVSxVQUFVO3dCQUM3QnNLLGVBQWV0SztvQkFDakIsT0FBTyxJQUFJLE9BQU9BLFVBQVUsWUFBWUEsTUFBTW9GLElBQUksT0FBTyxJQUFJO3dCQUMzRCwyQ0FBMkM7d0JBQzNDLE1BQU1vRixTQUFTeEgsU0FBU2hEO3dCQUN4QixJQUFJLENBQUN5SyxNQUFNRCxTQUFTOzRCQUNsQkYsZUFBZUU7d0JBQ2pCO29CQUNGO2dCQUNGO2dCQUVBakksUUFBUU0sR0FBRyxDQUFDLDZCQUE2QnlILGNBQWMsU0FBUyxPQUFPQTtnQkFFdkUsMEVBQTBFO2dCQUMxRSxNQUFNbEksV0FBVyxNQUFNQyxNQUFNLHVEQUFzRmxDLE9BQS9CbUssY0FBYSxvQkFBaUMsT0FBZm5LLGlCQUFrQjtvQkFDakkwRCxRQUFRO29CQUNSQyxTQUFTO3dCQUNMLGdCQUFnQjt3QkFDaEIsVUFBVTtvQkFDZDtnQkFDSjtnQkFFQXZCLFFBQVFNLEdBQUcsQ0FBQyxvQkFBb0JULFNBQVNLLE1BQU07Z0JBQy9DRixRQUFRTSxHQUFHLENBQUMscUJBQXFCUSxPQUFPcUgsV0FBVyxDQUFDO3VCQUFJdEksU0FBUzBCLE9BQU87aUJBQUM7Z0JBRXpFLDJCQUEyQjtnQkFDM0IsTUFBTXFFLGVBQWUsTUFBTS9GLFNBQVMyRixJQUFJO2dCQUN4Q3hGLFFBQVFNLEdBQUcsQ0FBQyxpQkFBaUJzRjtnQkFFN0IsSUFBSXdDLGVBQWUsQ0FBQztnQkFDcEIsSUFBSXhDLGNBQWM7b0JBQ2QsSUFBSTt3QkFDQXdDLGVBQWUzRyxLQUFLMkUsS0FBSyxDQUFDUjtvQkFDOUIsRUFBRSxPQUFPRCxZQUFZO3dCQUNqQjNGLFFBQVE5QixLQUFLLENBQUMsMkJBQTJCeUg7d0JBQ3pDeEgsU0FBUywrQkFBOEQsT0FBL0J5SCxhQUFhSCxTQUFTLENBQUMsR0FBRyxNQUFLO29CQUMzRTtnQkFDSjtnQkFFQSxJQUFJLENBQUM1RixTQUFTRSxFQUFFLEVBQUU7b0JBQ2QsTUFBTXNJLGFBQWF4SSxTQUFTd0ksVUFBVSxJQUFJO29CQUMxQyxJQUFJbEQsZUFBZSxjQUFtQ2tELE9BQXJCeEksU0FBU0ssTUFBTSxFQUFDLE9BQWdCLE9BQVhtSTtvQkFFdEQsK0JBQStCO29CQUMvQixJQUFJeEksU0FBU0ssTUFBTSxLQUFLLEtBQUs7d0JBQ3pCRixRQUFROUIsS0FBSyxDQUFDLDZCQUE2QmtLO3dCQUUzQyxvREFBb0Q7d0JBQ3BELElBQUlBLGFBQWEvQyxNQUFNLElBQUk5RSxNQUFNQyxPQUFPLENBQUM0SCxhQUFhL0MsTUFBTSxHQUFHOzRCQUMzRCxNQUFNaUQsbUJBQW1CRixhQUFhL0MsTUFBTSxDQUFDdEQsR0FBRyxDQUFDd0csQ0FBQUEsTUFDN0MsR0FBMEJBLE9BQXZCQSxJQUFJQyxHQUFHLENBQUNyRyxJQUFJLENBQUMsTUFBSyxPQUFhLE9BQVJvRyxJQUFJRSxHQUFHLEdBQ25DdEcsSUFBSSxDQUFDOzRCQUNQZ0QsZ0JBQWdCLHlCQUEwQyxPQUFqQm1EO3dCQUM3QyxPQUFPLElBQUksT0FBT0YsYUFBYS9DLE1BQU0sS0FBSyxVQUFVOzRCQUNoREYsZ0JBQWdCLE1BQTBDLE9BQXBDMUQsS0FBS0MsU0FBUyxDQUFDMEcsYUFBYS9DLE1BQU07d0JBQzVELE9BQU8sSUFBSStDLGFBQWEvQyxNQUFNLEVBQUU7NEJBQzVCRixnQkFBZ0IsTUFBMEIsT0FBcEJpRCxhQUFhL0MsTUFBTTt3QkFDN0M7b0JBQ0osT0FBTzt3QkFDSCxtQkFBbUI7d0JBQ25CLElBQUkrQyxhQUFhL0MsTUFBTSxFQUFFOzRCQUNyQkYsZ0JBQWdCLE1BQzhDLE9BRHhDLE9BQU9pRCxhQUFhL0MsTUFBTSxLQUFLLFdBQ2pENUQsS0FBS0MsU0FBUyxDQUFDMEcsYUFBYS9DLE1BQU0sSUFBSStDLGFBQWEvQyxNQUFNO3dCQUNqRTtvQkFDSjtvQkFFQXJGLFFBQVE5QixLQUFLLENBQUNpSDtvQkFDZCxNQUFNLElBQUl0RCxNQUFNc0Q7Z0JBQ3BCO2dCQUVBbkYsUUFBUU0sR0FBRyxDQUFDLG1DQUFtQzhIO2dCQUUvQyxpREFBaUQ7Z0JBQ2pELElBQUkvSyxVQUFVO29CQUNaQSxTQUFTO3dCQUNQSCxPQUFPa0wsYUFBYWxMLEtBQUssSUFBSVE7d0JBQzdCUCxhQUFhaUwsYUFBYWpMLFdBQVcsSUFBSTBLO3dCQUN6Q2EsZ0JBQWdCOUs7d0JBQ2hCLEdBQUd3SyxZQUFZO29CQUNqQjtnQkFDRjtnQkFFRnJLLFdBQVc7Z0JBQ1hFLGFBQWE7WUFDZixFQUFFLE9BQU9DLE9BQU87Z0JBQ1o4QixRQUFROUIsS0FBSyxDQUFDLDZCQUE2QkE7Z0JBQzNDQyxTQUFTLDZCQUEyQyxPQUFkRCxNQUFNSixPQUFPO2dCQUNuREcsYUFBYTtZQUNqQjtRQUNKO0lBQ0o7SUFFQSxnRkFBZ0Y7SUFDaEYsTUFBTTBLLHVCQUF1QjtRQUN6QixJQUFJLENBQUNsTCxPQUFPO1lBQ1J1QyxRQUFROUIsS0FBSyxDQUFDO1lBQ2Q7UUFDSjtRQUVBOEIsUUFBUU0sR0FBRyxDQUFDLDJDQUEyQzdDO1FBQ3ZELE1BQU1pRDtJQUNWO0lBRUEscUJBQ0ksOERBQUN5RztRQUFJQyxXQUFVOzswQkFDWCw4REFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNYLDhEQUFDd0I7d0JBQU1DLFNBQVE7d0JBQWN6QixXQUFVO2tDQUErQzs7Ozs7O2tDQUd0Riw4REFBQzBCO3dCQUNHQyxJQUFHO3dCQUNIM0IsV0FBVTt3QkFDVjRCLGFBQVk7d0JBQ1pDLE1BQU07d0JBQ05oRixPQUFPbkc7d0JBQ1BvTCxVQUFVLENBQUNwRixJQUFNL0YsV0FBVytGLEVBQUVFLE1BQU0sQ0FBQ0MsS0FBSzs7Ozs7O2tDQUU5Qyw4REFBQ2tGO3dCQUNHeEIsU0FBUyxJQUFNakQsZ0JBQWdCNUc7d0JBQy9Cc0osV0FBVTt3QkFDVmdDLFVBQVUsQ0FBQ3RMLFFBQVErRSxJQUFJLE1BQU03RTtrQ0FFNUJBLFlBQVksa0JBQWtCOzs7Ozs7a0NBR25DLDhEQUFDbUo7d0JBQUlDLFdBQVU7OzBDQUNYLDhEQUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ1gsOERBQUNpQzt3Q0FBRWpDLFdBQVU7a0RBQW9DOzs7Ozs7a0RBQ2pELDhEQUFDK0I7d0NBQ0d4QixTQUFTZ0I7d0NBQ1R2QixXQUFVO3dDQUNWZ0MsVUFBVTFLO2tEQUVUQSxxQ0FDRyw4REFBQzRLOzRDQUFLbEMsV0FBVTs7OERBQ1osOERBQUNtQztvREFBSW5DLFdBQVU7b0RBQWdEb0MsT0FBTTtvREFBNkJDLE1BQUs7b0RBQU9DLFNBQVE7O3NFQUNsSCw4REFBQ0M7NERBQU92QyxXQUFVOzREQUFhd0MsSUFBRzs0REFBS0MsSUFBRzs0REFBS3hGLEdBQUU7NERBQUt5RixRQUFPOzREQUFlQyxhQUFZOzs7Ozs7c0VBQ3hGLDhEQUFDQzs0REFBSzVDLFdBQVU7NERBQWFxQyxNQUFLOzREQUFlakYsR0FBRTs7Ozs7Ozs7Ozs7O2dEQUNqRDs7Ozs7O3NFQUlWOzs4REFDSSw4REFBQytFO29EQUFJbkMsV0FBVTtvREFBZXFDLE1BQUs7b0RBQU9LLFFBQU87b0RBQWVKLFNBQVE7b0RBQVlGLE9BQU07OERBQ3RGLDRFQUFDUTt3REFBS0MsZUFBYzt3REFBUUMsZ0JBQWU7d0RBQVFILGFBQVk7d0RBQUl2RixHQUFFOzs7Ozs7Ozs7OztnREFDbkU7Ozs7Ozs7Ozs7Ozs7OzRCQU9yQjlGLHFDQUNHLDhEQUFDeUk7Z0NBQUlDLFdBQVU7O2tEQUNYLDhEQUFDRDt3Q0FBSUMsV0FBVTs7Ozs7O2tEQUNmLDhEQUFDaUM7d0NBQUVqQyxXQUFVO2tEQUE2Qjs7Ozs7Ozs7Ozs7MERBRzlDLDhEQUFDRDtnQ0FBSUMsV0FBVTswQ0FDVjVJLGdCQUNHdUksK0NBRUE7O3NEQUNJLDhEQUFDSTs0Q0FDR0MsV0FBVTs0Q0FDVk8sU0FBUyxJQUFNNUosV0FBVztzREFDN0I7Ozs7OztzREFHRCw4REFBQ29KOzRDQUNHQyxXQUFVOzRDQUNWTyxTQUFTLElBQU01SixXQUFXO3NEQUM3Qjs7Ozs7O3NEQUdELDhEQUFDb0o7NENBQ0dDLFdBQVU7NENBQ1ZPLFNBQVMsSUFBTTVKLFdBQVc7c0RBQzdCOzs7Ozs7c0RBR0QsOERBQUNvSjs0Q0FDR0MsV0FBVTs0Q0FDVk8sU0FBUyxJQUFNNUosV0FBVztzREFDN0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFVeEJELHlCQUNHLDhEQUFDcUo7Z0JBQUlDLFdBQVU7MEJBQ1Z0Sjs7Ozs7O1lBSVJJLHVCQUNHLDhEQUFDaUo7Z0JBQUlDLFdBQVU7MEJBQ1ZsSjs7Ozs7Ozs7Ozs7O0FBS3JCO0dBLzNCTWpCO0tBQUFBO0FBaTRCTixpRUFBZUEsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsiRDpcXHByb2plY3RzXFxDb21wbGV0ZUhNXFxjb21wbGV0ZUhNXFxmcm9udGhtXFxzcmNcXGFwcFxcY29tcG9uZW50c1xcSmRfdGhyZXNob2xkXFxzaWRlYmFyQ3JlYXRlLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUm9sZVNlbGVjdG9yIGZyb20gXCIuL1JvbGVTZWxlY3RvclwiO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY29uc3QgU2lkZWJhciA9ICh7XG4gICAgcm9sZXMsXG4gICAgc2tpbGxzX2RhdGEsXG4gICAgc2VuZFJhbmdlVmFsdWUsXG4gICAgb25DcmVhdGUsXG4gICAgc2VuZFNlbGVjdGVkUm9sZXMsXG4gICAgb25Sb2xlU2VsZWN0LFxuICAgIG9uRGFzaGJvYXJkVXBkYXRlLFxuICAgIGpvYklkXG59KSA9PiB7XG4gICAgY29uc3QgW3NlbGVjdGVkUm9sZXMsIHNldFNlbGVjdGVkUm9sZXNdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IFtkYXNoYm9hcmRDb3VudCwgc2V0RGFzaGJvYXJkQ291bnRdID0gdXNlU3RhdGUoNSk7IC8vIERlZmF1bHQgdG8gNSBvbiBzY2FsZVxuICAgIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICAgIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbYXZhaWxhYmxlRGFzaGJvYXJkcywgc2V0QXZhaWxhYmxlRGFzaGJvYXJkc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3NlbGVjdGVkRGFzaGJvYXJkcywgc2V0U2VsZWN0ZWREYXNoYm9hcmRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbc2FtcGxlUHJvbXB0cywgc2V0U2FtcGxlUHJvbXB0c10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW2xvYWRpbmdTYW1wbGVQcm9tcHRzLCBzZXRMb2FkaW5nU2FtcGxlUHJvbXB0c10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3RocmVzaG9sZElkLCBzZXRUaHJlc2hvbGRJZF0gPSB1c2VTdGF0ZShudWxsKTsgLy8gQWRkIHN0YXRlIGZvciB0aHJlc2hvbGQgSURcblxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSBkYXNoYm9hcmQgY29udGVudCBzdHJpbmcgZnJvbSBza2lsbHNfZGF0YVxuICAgIGNvbnN0IGdlbmVyYXRlRGFzaGJvYXJkQ29udGVudCA9IHVzZUNhbGxiYWNrKChza2lsbHNEYXRhLCBzZWxlY3RlZFJvbGVzKSA9PiB7XG4gICAgICAgIGlmICghc2tpbGxzRGF0YSB8fCAhc2VsZWN0ZWRSb2xlcyB8fCBzZWxlY3RlZFJvbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFwiXCI7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByb2xlID0gc2VsZWN0ZWRSb2xlc1swXTtcbiAgICAgICAgY29uc3Qgcm9sZURhdGEgPSBza2lsbHNEYXRhW3JvbGVdO1xuICAgICAgICBpZiAoIXJvbGVEYXRhKSByZXR1cm4gXCJcIjtcbiAgICAgICAgXG4gICAgICAgIGxldCBjb250ZW50ID0gXCJcIjtcbiAgICAgICAgbGV0IGRhc2hib2FyZE51bWJlciA9IDE7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5IGluIHJvbGVEYXRhKSB7XG4gICAgICAgICAgICBjb250ZW50ICs9IGBEYXNoYm9hcmQgIyR7ZGFzaGJvYXJkTnVtYmVyfSAtICR7Y2F0ZWdvcnl9OlxcbmA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gcm9sZURhdGFbY2F0ZWdvcnldO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtTmFtZSBpbiBpdGVtcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpdGVtTmFtZV07XG4gICAgICAgICAgICAgICAgY29udGVudCArPSBgLSAke2l0ZW1OYW1lfTogSW1wb3J0YW5jZTogJHtpdGVtLmltcG9ydGFuY2V9JSBSYXRpbmc6ICR7aXRlbS5yYXRpbmd9LzEwXFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29udGVudCArPSBcIlxcblwiO1xuICAgICAgICAgICAgZGFzaGJvYXJkTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0sIFtdKTtcblxuICAgIC8vIEZ1bmN0aW9uIHRvIGdldCB0aHJlc2hvbGQgSUQgZnJvbSBqb2IgSURcbiAgICBjb25zdCBnZXRUaHJlc2hvbGRJZCA9IHVzZUNhbGxiYWNrKGFzeW5jIChqaWQpID0+IHtcbiAgICAgICAgaWYgKCFqaWQpIHJldHVybiBudWxsO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdGhyZXNob2xkLWlkcz9qb2JfaWQ9JHtqaWR9YCk7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gZmV0Y2ggdGhyZXNob2xkIElEIGZvciBqb2IgSUQgJHtqaWR9OiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEudGhyZXNob2xkX2lkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kIHRocmVzaG9sZCBJRCAke2RhdGEudGhyZXNob2xkX2lkfSBmb3Igam9iIElEICR7amlkfWApO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLnRocmVzaG9sZF9pZDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YSAmJiBBcnJheS5pc0FycmF5KGRhdGEpICYmIGRhdGEubGVuZ3RoID4gMCAmJiBkYXRhWzBdLnRocmVzaG9sZF9pZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCB0aHJlc2hvbGQgSUQgJHtkYXRhWzBdLnRocmVzaG9sZF9pZH0gZm9yIGpvYiBJRCAke2ppZH1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVswXS50aHJlc2hvbGRfaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIElmIG5vIHRocmVzaG9sZCBJRCBpcyBmb3VuZCwgZmFsbGJhY2sgdG8gdXNpbmcgam9iIElEXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYE5vIHRocmVzaG9sZCBJRCBmb3VuZCBmb3Igam9iIElEICR7amlkfSwgdXNpbmcgam9iIElEIGFzIGZhbGxiYWNrYCk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoamlkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIHRocmVzaG9sZCBJRDogJHtlcnJvcn1gKTtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChqaWQpOyAvLyBGYWxsYmFjayB0byBqb2IgSURcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIC8vIEZ1bmN0aW9uIHRvIGZldGNoIHNhbXBsZSBwcm9tcHRzXG4gICAgY29uc3QgZmV0Y2hTYW1wbGVQcm9tcHRzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWpvYklkKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0TG9hZGluZ1NhbXBsZVByb21wdHModHJ1ZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFRyeSB0byBnZXQgdGhlIGFjdHVhbCB0aHJlc2hvbGQgSUQgZmlyc3RcbiAgICAgICAgICAgIGNvbnN0IHRpZCA9IHRocmVzaG9sZElkIHx8IGF3YWl0IGdldFRocmVzaG9sZElkKGpvYklkKTtcbiAgICAgICAgICAgIGlmICh0aWQpIHtcbiAgICAgICAgICAgICAgICBzZXRUaHJlc2hvbGRJZCh0aWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVc2UgdGhyZXNob2xkX2lkIGZvciBBUEkgY2FsbHNcbiAgICAgICAgICAgIGNvbnN0IHRocmVzaG9sZF9pZCA9IHRpZCB8fCBwYXJzZUludChqb2JJZCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZldGNoaW5nIHNhbXBsZSBwcm9tcHRzIGZvciB0aHJlc2hvbGQgSUQ6XCIsIHRocmVzaG9sZF9pZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEZpcnN0IHRyeSB0aGUgbmV3ZXIgUE9TVCBlbmRwb2ludCB3aXRoIHRocmVzaG9sZCBkYXRhXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCB0aHJlc2hvbGQgZGF0YSB0byBwYXNzIHRvIHRoZSBBUElcbiAgICAgICAgICAgICAgICBjb25zdCB0aHJlc2hvbGREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGRfaWQ6IHRocmVzaG9sZF9pZCwgLy8gVXNlIHRocmVzaG9sZF9pZCBpbnN0ZWFkIG9mIGpvYklkXG4gICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZF9yZXN1bHQ6IHNraWxsc19kYXRhICYmIE9iamVjdC5rZXlzKHNraWxsc19kYXRhKS5sZW5ndGggPiAwID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZXM6IHJvbGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogZ2VuZXJhdGVEYXNoYm9hcmRDb250ZW50KHNraWxsc19kYXRhLCByb2xlcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lsbHNfZGF0YTogc2tpbGxzX2RhdGFcbiAgICAgICAgICAgICAgICAgICAgfSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiByb2xlcyAmJiByb2xlcy5sZW5ndGggPiAwID8gcm9sZXNbMF0gOiBcIlwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgQWJvcnRDb250cm9sbGVyIGZvciB0aW1lb3V0XG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgMTAwMDApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcmVjb21tZW5kZWQtcHJvbXB0cycsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRocmVzaG9sZERhdGEpLFxuICAgICAgICAgICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBzYW1wbGUgcHJvbXB0czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBuZXcgZm9ybWF0IC0gYXJyYXkgb2YgUHJvbXB0UmVjb21tZW5kYXRpb24gb2JqZWN0c1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpICYmIGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgcHJvbXB0cyBmb3IgZGlzcGxheSBpbiBhIG1vcmUgY29uY2lzZSB3YXlcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkUHJvbXB0cyA9IGRhdGEubWFwKChwcm9tcHQsIGluZGV4KSA9PiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke2luZGV4ICsgMX0uICoqJHtwcm9tcHQudGl0bGV9Kio6IFwiJHtwcm9tcHQucHJvbXB0X3RleHR9XCJgXG4gICAgICAgICAgICAgICAgICAgICkuam9pbignXFxuXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzZXRTYW1wbGVQcm9tcHRzKGZvcm1hdHRlZFByb21wdHMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAocG9zdEVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXJyb3IgdXNpbmcgUE9TVCBlbmRwb2ludDpcIiwgcG9zdEVycm9yKTtcbiAgICAgICAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gdGhlIEdFVCBlbmRwb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gdGhlIEdFVCBlbmRwb2ludCBpZiBQT1NUIGZhaWxzXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBBYm9ydENvbnRyb2xsZXIgZm9yIHRpbWVvdXRcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCA4MDAwKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBnZXRSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3JlY29tbWVuZGVkLXByb21wdHMvJHt0aHJlc2hvbGRfaWR9YCwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKCFnZXRSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBzYW1wbGUgcHJvbXB0cyB3aXRoIEdFVDogJHtnZXRSZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGdldERhdGEgPSBhd2FpdCBnZXRSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBuZXcgZm9ybWF0IC0gYXJyYXkgb2YgUHJvbXB0UmVjb21tZW5kYXRpb24gb2JqZWN0c1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGdldERhdGEpICYmIGdldERhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgcHJvbXB0cyBmb3IgZGlzcGxheSBpbiBhIG1vcmUgY29uY2lzZSB3YXlcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkUHJvbXB0cyA9IGdldERhdGEubWFwKChwcm9tcHQsIGluZGV4KSA9PiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke2luZGV4ICsgMX0uICoqJHtwcm9tcHQudGl0bGV9Kio6IFwiJHtwcm9tcHQucHJvbXB0X3RleHR9XCJgXG4gICAgICAgICAgICAgICAgICAgICkuam9pbignXFxuXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzZXRTYW1wbGVQcm9tcHRzKGZvcm1hdHRlZFByb21wdHMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNhbXBsZVByb21wdHMoXCJObyBzYW1wbGUgcHJvbXB0cyBhdmFpbGFibGUuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGdldEVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHNhbXBsZSBwcm9tcHRzIHdpdGggR0VUOlwiLCBnZXRFcnJvcik7XG4gICAgICAgICAgICAgICAgc2V0U2FtcGxlUHJvbXB0cyhcIkVycm9yIGxvYWRpbmcgc2FtcGxlIHByb21wdHMuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgc2FtcGxlIHByb21wdHM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHNldFNhbXBsZVByb21wdHMoXCJFcnJvciBsb2FkaW5nIHNhbXBsZSBwcm9tcHRzLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmdTYW1wbGVQcm9tcHRzKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sIFtqb2JJZCwgcm9sZXMsIHNraWxsc19kYXRhLCBnZW5lcmF0ZURhc2hib2FyZENvbnRlbnQsIHNldFNhbXBsZVByb21wdHMsIHNldExvYWRpbmdTYW1wbGVQcm9tcHRzLCB0aHJlc2hvbGRJZCwgZ2V0VGhyZXNob2xkSWRdKTtcblxuICAgIC8vIEZ1bmN0aW9uIHRvIGV4dHJhY3QgcHJvbXB0IHRleHQgZnJvbSB0aGUgc2FtcGxlIHByb21wdFxuICAgIGNvbnN0IGV4dHJhY3RQcm9tcHRUZXh0ID0gdXNlQ2FsbGJhY2soKGZ1bGxQcm9tcHRUZXh0KSA9PiB7XG4gICAgICAgIC8vIExvb2sgZm9yIHRleHQgd2l0aGluIHF1b3Rlc1xuICAgICAgICBjb25zdCBxdW90ZU1hdGNoID0gZnVsbFByb21wdFRleHQubWF0Y2goL1wiKFteXCJdKylcIi8pO1xuICAgICAgICBpZiAocXVvdGVNYXRjaCAmJiBxdW90ZU1hdGNoWzFdKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVvdGVNYXRjaFsxXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRmFsbCBiYWNrIHRvIHRoZSB0ZXh0IGFmdGVyIHRoZSBjb2xvbiBpZiBubyBxdW90ZXMgYXJlIGZvdW5kXG4gICAgICAgIGNvbnN0IGNvbG9uTWF0Y2ggPSBmdWxsUHJvbXB0VGV4dC5tYXRjaCgvOlxccyooLispLyk7XG4gICAgICAgIGlmIChjb2xvbk1hdGNoICYmIGNvbG9uTWF0Y2hbMV0pIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvbk1hdGNoWzFdLnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZ1bGxQcm9tcHRUZXh0O1xuICAgIH0sIFtdKTtcblxuICAgIC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBjbGljayBvbiBhIHNhbXBsZSBwcm9tcHRcbiAgICBjb25zdCBoYW5kbGVTYW1wbGVQcm9tcHRDbGljayA9IHVzZUNhbGxiYWNrKChwcm9tcHRUZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IGV4dHJhY3RlZFByb21wdCA9IGV4dHJhY3RQcm9tcHRUZXh0KHByb21wdFRleHQpO1xuICAgICAgICBzZXRNZXNzYWdlKGV4dHJhY3RlZFByb21wdCk7XG4gICAgfSwgW2V4dHJhY3RQcm9tcHRUZXh0LCBzZXRNZXNzYWdlXSk7XG5cbiAgICAvLyBEZWJ1ZyBqb2JJZCBwcm9wIGFuZCBmZXRjaCBwcm9tcHRzIHdoZW4gbmVlZGVkXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTaWRlYmFyIHJlY2VpdmVkIGpvYklkOlwiLCBqb2JJZCwgXCJ0eXBlb2Ygam9iSWQ6XCIsIHR5cGVvZiBqb2JJZCk7XG4gICAgICAgIFxuICAgICAgICAvLyBGZXRjaCB0aHJlc2hvbGQgSUQgd2hlbiBqb2JJZCBjaGFuZ2VzXG4gICAgICAgIGlmIChqb2JJZCkge1xuICAgICAgICAgICAgZ2V0VGhyZXNob2xkSWQoam9iSWQpLnRoZW4odGlkID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRocmVzaG9sZElkKHRpZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTZXQgdGhyZXNob2xkIElEIHRvICR7dGlkfSBmb3Igam9iIElEICR7am9iSWR9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZldGNoIHNhbXBsZSBwcm9tcHRzIHdoZW4gam9iSWQgY2hhbmdlcyBhbmQgd2UgaGF2ZSB0aGUgcmVxdWlyZWQgZGF0YVxuICAgICAgICBpZiAoam9iSWQgJiYgcm9sZXMgJiYgcm9sZXMubGVuZ3RoID4gMCAmJiBza2lsbHNfZGF0YSAmJiBPYmplY3Qua2V5cyhza2lsbHNfZGF0YSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGZXRjaGluZyBzYW1wbGUgcHJvbXB0cyB3aXRoIGNvbXBsZXRlIGRhdGFcIik7XG4gICAgICAgICAgICBmZXRjaFNhbXBsZVByb21wdHMoKTtcbiAgICAgICAgfSBlbHNlIGlmIChqb2JJZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXaWxsIGZldGNoIHNhbXBsZSBwcm9tcHRzIHdpdGgganVzdCBqb2JJZCAoZmFsbGJhY2sgbWV0aG9kKVwiKTtcbiAgICAgICAgICAgIGZldGNoU2FtcGxlUHJvbXB0cygpO1xuICAgICAgICB9XG4gICAgfSwgW2pvYklkLCByb2xlcywgc2tpbGxzX2RhdGEsIGZldGNoU2FtcGxlUHJvbXB0cywgZ2V0VGhyZXNob2xkSWRdKTtcblxuICAgIC8vIEV4dHJhY3QgYXZhaWxhYmxlIGRhc2hib2FyZCBjYXRlZ29yaWVzIGZyb20gc2tpbGxzX2RhdGFcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoc2tpbGxzX2RhdGEgJiYgT2JqZWN0LmtleXMoc2tpbGxzX2RhdGEpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEdldCB0aGUgZmlyc3Qgcm9sZSBrZXlcbiAgICAgICAgICAgIGNvbnN0IHJvbGVLZXkgPSBPYmplY3Qua2V5cyhza2lsbHNfZGF0YSlbMF07XG4gICAgICAgICAgICBpZiAocm9sZUtleSAmJiBza2lsbHNfZGF0YVtyb2xlS2V5XSkge1xuICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgY2F0ZWdvcmllcyAoc2tpbGxzLCBhY2hpZXZlbWVudHMsIGFjdGl2aXRpZXMsIGV0Yy4pXG4gICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IE9iamVjdC5rZXlzKHNraWxsc19kYXRhW3JvbGVLZXldKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkF2YWlsYWJsZSBkYXNoYm9hcmQgY2F0ZWdvcmllczpcIiwgY2F0ZWdvcmllcyk7XG4gICAgICAgICAgICAgICAgc2V0QXZhaWxhYmxlRGFzaGJvYXJkcyhjYXRlZ29yaWVzKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBTZXQgaW5pdGlhbCBzZWxlY3RlZCBkYXNoYm9hcmRzXG4gICAgICAgICAgICAgICAgY29uc3QgaW5pdGlhbFNlbGVjdGVkID0gY2F0ZWdvcmllcy5zbGljZSgwLCBkYXNoYm9hcmRDb3VudCk7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWREYXNoYm9hcmRzKGluaXRpYWxTZWxlY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbc2tpbGxzX2RhdGFdKTtcblxuICAgIC8vIEF1dG8tc2VsZWN0IHRoZSBmaXJzdCByb2xlIHdoZW4gY29tcG9uZW50IGxvYWRzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSb2xlcyByZWNlaXZlZCBpbiBzaWRlYmFyOlwiLCByb2xlcyk7XG4gICAgICAgIGlmIChyb2xlcyAmJiByb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBBdXRvLXNlbGVjdCB0aGUgZmlyc3Qgcm9sZVxuICAgICAgICAgICAgY29uc3QgaW5pdGlhbFJvbGVzID0gW3JvbGVzWzBdXTtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkUm9sZXMoaW5pdGlhbFJvbGVzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTm90aWZ5IHBhcmVudCBjb21wb25lbnRzIGFib3V0IHRoZSBhdXRvLXNlbGVjdGlvblxuICAgICAgICAgICAgaWYgKHNlbmRTZWxlY3RlZFJvbGVzKSBzZW5kU2VsZWN0ZWRSb2xlcyhpbml0aWFsUm9sZXMpO1xuICAgICAgICAgICAgaWYgKG9uUm9sZVNlbGVjdCkgb25Sb2xlU2VsZWN0KGluaXRpYWxSb2xlcyk7XG4gICAgICAgIH1cbiAgICB9LCBbcm9sZXNdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChzZWxlY3RlZFJvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlbmRTZWxlY3RlZFJvbGVzKHNlbGVjdGVkUm9sZXMpO1xuICAgICAgICB9XG4gICAgfSwgW3NlbGVjdGVkUm9sZXMsIHNlbmRTZWxlY3RlZFJvbGVzXSk7XG5cbiAgICAvLyBVcGRhdGUgZGFzaGJvYXJkIHNlbGVjdGlvbnMgd2hlbiBjb3VudCBjaGFuZ2VzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGF2YWlsYWJsZURhc2hib2FyZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gTGltaXQgc2VsZWN0aW9ucyB0byBkYXNoYm9hcmQgY291bnRcbiAgICAgICAgICAgIGxldCBuZXdTZWxlY3Rpb24gPSBbLi4uc2VsZWN0ZWREYXNoYm9hcmRzXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBtb3JlIHRoYW4gYWxsb3dlZCwgdHJpbVxuICAgICAgICAgICAgaWYgKG5ld1NlbGVjdGlvbi5sZW5ndGggPiBkYXNoYm9hcmRDb3VudCkge1xuICAgICAgICAgICAgICAgIG5ld1NlbGVjdGlvbiA9IG5ld1NlbGVjdGlvbi5zbGljZSgwLCBkYXNoYm9hcmRDb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgZmV3ZXIgdGhhbiBhbGxvd2VkLCBhZGQgbW9yZVxuICAgICAgICAgICAgd2hpbGUgKG5ld1NlbGVjdGlvbi5sZW5ndGggPCBkYXNoYm9hcmRDb3VudCAmJiBcbiAgICAgICAgICAgICAgICAgICBuZXdTZWxlY3Rpb24ubGVuZ3RoIDwgYXZhaWxhYmxlRGFzaGJvYXJkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0T3B0aW9uID0gYXZhaWxhYmxlRGFzaGJvYXJkcy5maW5kKG9wdCA9PiAhbmV3U2VsZWN0aW9uLmluY2x1ZGVzKG9wdCkpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0T3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdGlvbi5wdXNoKG5leHRPcHRpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0U2VsZWN0ZWREYXNoYm9hcmRzKG5ld1NlbGVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9LCBbZGFzaGJvYXJkQ291bnQsIGF2YWlsYWJsZURhc2hib2FyZHNdKTtcblxuICAgIGNvbnN0IGhhbmRsZURhc2hib2FyZENvdW50Q2hhbmdlID0gKGUpID0+IHtcbiAgICAgICAgY29uc3QgY291bnQgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgIHNldERhc2hib2FyZENvdW50KGNvdW50KTtcbiAgICAgICAgc2VuZFJhbmdlVmFsdWUoY291bnQpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVSb2xlQ2hhbmdlID0gKHJvbGUpID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZFJvbGVzID0gc2VsZWN0ZWRSb2xlcy5pbmNsdWRlcyhyb2xlKVxuICAgICAgICAgICAgPyBzZWxlY3RlZFJvbGVzLmZpbHRlcihyID0+IHIgIT09IHJvbGUpXG4gICAgICAgICAgICA6IFsuLi5zZWxlY3RlZFJvbGVzLCByb2xlXTtcbiAgICAgICAgc2V0U2VsZWN0ZWRSb2xlcyh1cGRhdGVkUm9sZXMpO1xuICAgICAgICBvblJvbGVTZWxlY3QodXBkYXRlZFJvbGVzKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlRGFzaGJvYXJkU2VsZWN0aW9uID0gKGRhc2hib2FyZCkgPT4ge1xuICAgICAgICBpZiAoc2VsZWN0ZWREYXNoYm9hcmRzLmluY2x1ZGVzKGRhc2hib2FyZCkpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgcmVtb3ZlIGlmIHdlJ2xsIHN0aWxsIGhhdmUgYXQgbGVhc3Qgb25lIGRhc2hib2FyZFxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRGFzaGJvYXJkcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWREYXNoYm9hcmRzKHNlbGVjdGVkRGFzaGJvYXJkcy5maWx0ZXIoZCA9PiBkICE9PSBkYXNoYm9hcmQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZERhc2hib2FyZHMubGVuZ3RoIDwgZGFzaGJvYXJkQ291bnQpIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkRGFzaGJvYXJkcyhbLi4uc2VsZWN0ZWREYXNoYm9hcmRzLCBkYXNoYm9hcmRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIGxhc3Qgb25lXG4gICAgICAgICAgICBjb25zdCBuZXdTZWxlY3Rpb24gPSBbLi4uc2VsZWN0ZWREYXNoYm9hcmRzXTtcbiAgICAgICAgICAgIG5ld1NlbGVjdGlvbi5wb3AoKTtcbiAgICAgICAgICAgIG5ld1NlbGVjdGlvbi5wdXNoKGRhc2hib2FyZCk7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZERhc2hib2FyZHMobmV3U2VsZWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVSdW5Qcm9tcHQgPSBhc3luYyAocHJvbXB0KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJ1bm5pbmcgcHJvbXB0OlwiLCBwcm9tcHQpO1xuICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHByb21wdFRleHQgPSB0eXBlb2YgcHJvbXB0ID09PSAnc3RyaW5nJyA/IHByb21wdCA6IFN0cmluZyhwcm9tcHQgfHwgXCJcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEdldCBjdXJyZW50IHRocmVzaG9sZCBJRCBmcm9tIHRoZSBqb2JJZFxuICAgICAgICAgICAgY29uc3QgdGlkID0gdGhyZXNob2xkSWQgfHwgYXdhaXQgZ2V0VGhyZXNob2xkSWQoam9iSWQpO1xuICAgICAgICAgICAgaWYgKCF0aWQgJiYgIWpvYklkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdGhyZXNob2xkIElEIG9yIGpvYiBJRCBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHRocmVzaG9sZF9pZCA9IHRpZCB8fCBwYXJzZUludChqb2JJZCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgdGhyZXNob2xkIElEICR7dGhyZXNob2xkX2lkfSBmb3IgcHJvbXB0IHByb2Nlc3NpbmdgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRmlyc3QsIG1hbnVhbGx5IGFwcGx5IGNoYW5nZXMgdG8gdGhlIGxvY2FsIHNraWxscyBkYXRhXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkU2tpbGxzRGF0YSA9IG1hbnVhbGx5QXBwbHlDaGFuZ2VzKHNraWxsc19kYXRhLCBwcm9tcHRUZXh0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTG9nIHRoZSBzdHJ1Y3R1cmUgdG8gZGVidWdcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT3JpZ2luYWwgc2tpbGxzX2RhdGEgdHlwZTpcIiwgdHlwZW9mIHNraWxsc19kYXRhKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSXMgb3JpZ2luYWwgc2tpbGxzX2RhdGEgYW4gYXJyYXk/XCIsIEFycmF5LmlzQXJyYXkoc2tpbGxzX2RhdGEpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXBkYXRlZCBza2lsbHNfZGF0YSB0eXBlOlwiLCB0eXBlb2YgdXBkYXRlZFNraWxsc0RhdGEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJcyB1cGRhdGVkIHNraWxsc19kYXRhIGFuIGFycmF5P1wiLCBBcnJheS5pc0FycmF5KHVwZGF0ZWRTa2lsbHNEYXRhKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHVwZGF0ZWRTa2lsbHNEYXRhKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXJyYXkgbGVuZ3RoOlwiLCB1cGRhdGVkU2tpbGxzRGF0YS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkU2tpbGxzRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmlyc3QgZWxlbWVudCB0eXBlOlwiLCB0eXBlb2YgdXBkYXRlZFNraWxsc0RhdGFbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRW5zdXJlIHdlJ3JlIHNlbmRpbmcgYW4gb2JqZWN0LCBub3QgYW4gYXJyYXlcbiAgICAgICAgICAgIGxldCBzYW5pdGl6ZWRTa2lsbHNEYXRhID0gdXBkYXRlZFNraWxsc0RhdGE7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh1cGRhdGVkU2tpbGxzRGF0YSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlZFNraWxsc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzYW5pdGl6ZWRTa2lsbHNEYXRhID0gdXBkYXRlZFNraWxsc0RhdGFbMF07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2FuaXRpemVkU2tpbGxzRGF0YSA9IHt9OyAvLyBGYWxsYmFjayB0byBlbXB0eSBvYmplY3QgaWYgYXJyYXkgaXMgZW1wdHlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2FuaXRpemVkIHNraWxsc19kYXRhIHR5cGU6XCIsIHR5cGVvZiBzYW5pdGl6ZWRTa2lsbHNEYXRhKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBUaGVuLCBzZW5kIHRoZSB1cGRhdGVkIHNraWxscyBkYXRhIHRvIHRoZSBiYWNrZW5kIHRvIHBlcnNpc3QgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS91cGRhdGUtZGFzaGJvYXJkLWRhdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZF9pZDogdGhyZXNob2xkX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgam9iX2lkOiBqb2JJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsc19kYXRhOiBzYW5pdGl6ZWRTa2lsbHNEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRUZXh0XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlUmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGNvbnRlbnQgdHlwZSB0byBjaGVjayBpZiBpdCdzIEpTT05cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSB1cGRhdGVSZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50VHlwZSAmJiBjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHVwZGF0ZVJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvckRhdGEuZXJyb3IgfHwgZXJyb3JEYXRhLmRldGFpbCB8fCBgU2VydmVyIGVycm9yOiAke3VwZGF0ZVJlc3BvbnNlLnN0YXR1c31gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJKU09OIGVycm9yIGRldGFpbHM6XCIsIGVycm9yRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChqc29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCB1cGRhdGVSZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYEZhaWxlZCB0byB1cGRhdGUgZGFzaGJvYXJkIGRhdGE6ICR7dXBkYXRlUmVzcG9uc2Uuc3RhdHVzfSAtICR7ZXJyb3JUZXh0LnN1YnN0cmluZygwLCAxMDApfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vbi1KU09OIGVycm9yIHJlc3BvbnNlOlwiLCBlcnJvclRleHQuc3Vic3RyaW5nKDAsIDIwMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgdXBkYXRlUmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYEZhaWxlZCB0byB1cGRhdGUgZGFzaGJvYXJkIGRhdGE6ICR7dXBkYXRlUmVzcG9uc2Uuc3RhdHVzfSAtICR7ZXJyb3JUZXh0LnN1YnN0cmluZygwLCAxMDApfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTm9uLUpTT04gZXJyb3IgcmVzcG9uc2U6XCIsIGVycm9yVGV4dC5zdWJzdHJpbmcoMCwgMjAwKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsZXQgdXBkYXRlRGF0YTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhID0gYXdhaXQgdXBkYXRlUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRhc2hib2FyZCBkYXRhIHVwZGF0ZSByZXNwb25zZTpcIiwgdXBkYXRlRGF0YSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJDb3VsZCBub3QgcGFyc2UgcmVzcG9uc2UgYXMgSlNPTiwgYnV0IGNvbnRpbnVpbmc6XCIsIHBhcnNlRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCB1cGRhdGVSZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVzcG9uc2UgdGV4dDpcIiwgcmVzcG9uc2VUZXh0LnN1YnN0cmluZygwLCAxMDApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQWxzbyBwcm9jZXNzIHRoZSBwcm9tcHQgdGhyb3VnaCB0aGUgZnJvbnRlbmQgQVBJXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcHJvY2Vzcy1wcm9tcHQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZF9pZDogdGhyZXNob2xkX2lkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvY2Vzc1Jlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCBwcm9jZXNzUmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUHJvY2VzcyBwcm9tcHQgd2FybmluZzpcIiwgZXJyb3JEYXRhLnN1YnN0cmluZygwLCAyMDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIGFueXdheSBzaW5jZSB3ZSBhbHJlYWR5IHVwZGF0ZWQgdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NEYXRhID0gYXdhaXQgcHJvY2Vzc1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlByb2Nlc3MgcHJvbXB0IHJlc3BvbnNlOlwiLCBwcm9jZXNzRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ291bGQgbm90IHBhcnNlIHByb2Nlc3MgcmVzcG9uc2UgYXMgSlNPTjpcIiwgcGFyc2VFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChwcm9jZXNzRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRXJyb3Igd2l0aCBwcm9jZXNzLXByb21wdCBBUEksIGJ1dCBjb250aW51aW5nOlwiLCBwcm9jZXNzRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgVUkgd2l0aCB0aGUgY2hhbmdlc1xuICAgICAgICAgICAgICAgIGlmIChvbkRhc2hib2FyZFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBvbkRhc2hib2FyZFVwZGF0ZSh1cGRhdGVkU2tpbGxzRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJUaHJlc2hvbGQgc2NvcmVzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IGluIHRoZSBkYXRhYmFzZSFcIik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gUmVmcmVzaCBzYW1wbGUgcHJvbXB0cyBhZnRlciBzdWNjZXNzZnVsIHVwZGF0ZVxuICAgICAgICAgICAgICAgIGZldGNoU2FtcGxlUHJvbXB0cygpO1xuICAgICAgICAgICAgfSBjYXRjaCAoYXBpRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQVBJIGVycm9yOlwiLCBhcGlFcnJvcik7XG4gICAgICAgICAgICAgICAgdGhyb3cgYXBpRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwcm9jZXNzaW5nIHByb21wdDpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgc2V0RXJyb3IoYEVycm9yIHVwZGF0aW5nIGRhc2hib2FyZDogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBtYW51YWxseUFwcGx5Q2hhbmdlcyA9IChjdXJyZW50U2tpbGxzRGF0YSwgcHJvbXB0VGV4dCkgPT4ge1xuICAgICAgICAvLyBFbnN1cmUgY3VycmVudFNraWxsc0RhdGEgaXMgYW4gb2JqZWN0LCBub3QgYW4gYXJyYXlcbiAgICAgICAgbGV0IHNraWxsc0RhdGFPYmogPSBjdXJyZW50U2tpbGxzRGF0YTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudFNraWxsc0RhdGEpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIklucHV0IHNraWxsc19kYXRhIGlzIGFuIGFycmF5IHdpdGggbGVuZ3RoOlwiLCBjdXJyZW50U2tpbGxzRGF0YS5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTa2lsbHNEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBza2lsbHNEYXRhT2JqID0gY3VycmVudFNraWxsc0RhdGFbMF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVtcHR5IHNraWxsc19kYXRhIGFycmF5IHByb3ZpZGVkLCB1c2luZyBlbXB0eSBvYmplY3RcIik7XG4gICAgICAgICAgICAgICAgc2tpbGxzRGF0YU9iaiA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBEZWVwIGNsb25lIHRoZSBjdXJyZW50IHNraWxscyBkYXRhIHRvIGF2b2lkIG11dGF0aW5nIHRoZSBvcmlnaW5hbFxuICAgICAgICBjb25zdCB1cGRhdGVkU2tpbGxzRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2tpbGxzRGF0YU9iaikpO1xuICAgICAgICBcbiAgICAgICAgLy8gUGFyc2UgdGhlIHByb21wdCB0ZXh0IHRvIGV4dHJhY3QgY2hhbmdlc1xuICAgICAgICBjb25zdCBsaW5lcyA9IHByb21wdFRleHQuc3BsaXQoJ1xcbicpO1xuICAgIFxuICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgIGlmICghbGluZS50cmltKCkpIGNvbnRpbnVlO1xuICAgICAgICBcbiAgICAgICAgICAgIC8vIEV4dHJhY3Qgc2tpbGwgbmFtZSBhbmQgdmFsdWVzXG4gICAgICAgICAgICBsZXQgc2tpbGxOYW1lID0gJyc7XG4gICAgICAgICAgICBsZXQgbmV3VmFsdWUgPSAwO1xuICAgICAgICAgICAgbGV0IGlzUmF0aW5nID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGRpZmZlcmVudCBwYXR0ZXJuc1xuICAgICAgICAgICAgaWYgKGxpbmUuaW5jbHVkZXMoXCJzZWxlY3Rpb24gc2NvcmVcIikgfHwgbGluZS5pbmNsdWRlcyhcInJlamVjdGlvbiBzY29yZVwiKSkge1xuICAgICAgICAgICAgICAgIC8vIEV4dHJhY3Qgc2tpbGwgbmFtZSAtIGl0J3MgYmV0d2VlbiB0aGUgc3RhcnQgYW5kIFwiJ3NcIlxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gbGluZS5tYXRjaCgvKD86U2V0fEFkanVzdClcXHMrKC4qPykncy8pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgICAgICBza2lsbE5hbWUgPSBtYXRjaFsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IG5ldyB2YWx1ZSAtIGl0J3MgYWZ0ZXIgXCJ0b1wiIGFuZCBiZWZvcmUgXCIlXCJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZU1hdGNoID0gbGluZS5tYXRjaCgvdG9cXHMrKFxcZCtcXC5cXGQrKSUvKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVNYXRjaCAmJiB2YWx1ZU1hdGNoWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZU1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpc1JhdGluZyA9IGZhbHNlOyAvLyBUaGlzIGlzIGFuIGltcG9ydGFuY2UgdmFsdWVcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lLmluY2x1ZGVzKFwicmF0aW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBza2lsbCBuYW1lXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBsaW5lLm1hdGNoKC9VcGRhdGVcXHMrKC4qPykncy8pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgICAgICBza2lsbE5hbWUgPSBtYXRjaFsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IG5ldyB2YWx1ZVxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlTWF0Y2ggPSBsaW5lLm1hdGNoKC90b1xccysoXFxkK1xcLlxcZCspLyk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlTWF0Y2ggJiYgdmFsdWVNYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWVNYXRjaFsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaXNSYXRpbmcgPSB0cnVlOyAvLyBUaGlzIGlzIGEgcmF0aW5nIHZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsaW5lLmluY2x1ZGVzKFwiaW1wb3J0YW5jZVwiKSkge1xuICAgICAgICAgICAgICAgIC8vIEV4dHJhY3Qgc2tpbGwgbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gbGluZS5tYXRjaCgvQ2hhbmdlXFxzKyguKj8pJ3MvKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpbGxOYW1lID0gbWF0Y2hbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBuZXcgdmFsdWVcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZU1hdGNoID0gbGluZS5tYXRjaCgvdG9cXHMrKFxcZCtcXC5cXGQrKSUvKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVNYXRjaCAmJiB2YWx1ZU1hdGNoWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZU1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpc1JhdGluZyA9IGZhbHNlOyAvLyBUaGlzIGlzIGFuIGltcG9ydGFuY2UgdmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIHNraWxsIG5hbWUgYW5kIGEgbmV3IHZhbHVlLCB1cGRhdGUgdGhlIHNraWxscyBkYXRhXG4gICAgICAgICAgICBpZiAoc2tpbGxOYW1lICYmIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFVwZGF0aW5nICR7c2tpbGxOYW1lfSB3aXRoIG5ldyAke2lzUmF0aW5nID8gJ3JhdGluZycgOiAnaW1wb3J0YW5jZSd9IHZhbHVlOiAke25ld1ZhbHVlfWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgc2tpbGwgaW4gdGhlIHNraWxscyBkYXRhXG4gICAgICAgICAgICAgICAgY29uc3Qgcm9sZUtleXMgPSBPYmplY3Qua2V5cyh1cGRhdGVkU2tpbGxzRGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKHJvbGVLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJObyByb2xlIGtleXMgZm91bmQgaW4gc2tpbGxzIGRhdGFcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCByb2xlS2V5ID0gcm9sZUtleXNbMF07IC8vIEFzc3VtaW5nIHRoZXJlJ3Mgb25seSBvbmUgcm9sZVxuICAgICAgICAgICAgICAgIGlmICghcm9sZUtleSkgY29udGludWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCByb2xlRGF0YSA9IHVwZGF0ZWRTa2lsbHNEYXRhW3JvbGVLZXldO1xuICAgICAgICAgICAgICAgIGlmICghcm9sZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBObyBkYXRhIGZvdW5kIGZvciByb2xlICR7cm9sZUtleX1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaW4gc2tpbGxzLCBhY2hpZXZlbWVudHMsIGFuZCBhY3Rpdml0aWVzXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiBPYmplY3Qua2V5cyhyb2xlRGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvbGVEYXRhW2NhdGVnb3J5XSAmJiByb2xlRGF0YVtjYXRlZ29yeV1bc2tpbGxOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm91bmQgdGhlIHNraWxsLCB1cGRhdGUgdGhlIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNSYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlRGF0YVtjYXRlZ29yeV1bc2tpbGxOYW1lXS5yYXRpbmcgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZURhdGFbY2F0ZWdvcnldW3NraWxsTmFtZV0uaW1wb3J0YW5jZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpbmQgc2tpbGw6ICR7c2tpbGxOYW1lfSBpbiB0aGUgc2tpbGxzIGRhdGFgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEVuc3VyZSB3ZSByZXR1cm4gYW4gb2JqZWN0LCBub3QgYW4gYXJyYXlcbiAgICAgICAgY29uc29sZS5sb2coXCJGaW5hbCB1cGRhdGVkIHNraWxsc19kYXRhIHR5cGU6XCIsIHR5cGVvZiB1cGRhdGVkU2tpbGxzRGF0YSk7XG4gICAgICAgIHJldHVybiB1cGRhdGVkU2tpbGxzRGF0YTtcbiAgICB9O1xuXG4gICAgLy8gUGFyc2Ugc2FtcGxlIHByb21wdHMgdG8gbWFrZSB0aGVtIGNsaWNrYWJsZVxuICAgIGNvbnN0IHJlbmRlckNsaWNrYWJsZVNhbXBsZVByb21wdHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICghc2FtcGxlUHJvbXB0cykgcmV0dXJuIG51bGw7XG4gICAgICAgIFxuICAgICAgICAvLyBFbnN1cmUgc2FtcGxlUHJvbXB0cyBpcyBhIHN0cmluZ1xuICAgICAgICBjb25zdCBwcm9tcHRzVGV4dCA9IHR5cGVvZiBzYW1wbGVQcm9tcHRzID09PSAnc3RyaW5nJyA/IHNhbXBsZVByb21wdHMgOiBTdHJpbmcoc2FtcGxlUHJvbXB0cyB8fCAnJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBNYXRjaCBudW1iZXJlZCBpdGVtcyB3aXRoIHRpdGxlcywgZGVzY3JpcHRpb25zLCBhbmQgcXVvdGVzXG4gICAgICAgIGNvbnN0IHNlY3Rpb25zID0gcHJvbXB0c1RleHQuc3BsaXQoL1xcZCtcXC5cXHMqXFwqXFwqLykuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgd2UgY291bGRuJ3Qgc3BsaXQgaXQgcHJvcGVybHksIGp1c3Qgc2hvdyB0aGUgcmF3IGNvbnRlbnRcbiAgICAgICAgaWYgKHNlY3Rpb25zLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBiZy1ncmF5LTEwMCByb3VuZGVkIHRleHQteHMgd2hpdGVzcGFjZS1wcmUtbGluZVwiXG4gICAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogcHJvbXB0c1RleHQucmVwbGFjZSgvXFxuL2csICc8YnI+JykgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTWFwIGVhY2ggc2VjdGlvbiB0byBhIGNsaWNrYWJsZSBwcm9tcHRcbiAgICAgICAgcmV0dXJuIHNlY3Rpb25zLm1hcCgoc2VjdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIHRpdGxlXG4gICAgICAgICAgICBjb25zdCB0aXRsZU1hdGNoID0gc2VjdGlvbi5tYXRjaCgvKFteOipdKyk6Lyk7XG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IHRpdGxlTWF0Y2ggPyB0aXRsZU1hdGNoWzFdLnRyaW0oKSA6IGBTYW1wbGUgJHtpbmRleCArIDF9YDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRmluZCB0aGUgdGV4dCBpbiBxdW90ZXNcbiAgICAgICAgICAgIGNvbnN0IHF1b3RlTWF0Y2ggPSBzZWN0aW9uLm1hdGNoKC9cIihbXlwiXSspXCIvKTtcbiAgICAgICAgICAgIGxldCBwcm9tcHRUZXh0ID0gcXVvdGVNYXRjaCA/IHF1b3RlTWF0Y2hbMV0gOiBzZWN0aW9uO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBUcnVuY2F0ZSB0aGUgcHJvbXB0IHRleHQgaWYgaXQncyB0b28gbG9uZyAoPjgwIGNoYXJzKVxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gcHJvbXB0VGV4dDtcbiAgICAgICAgICAgIGlmIChwcm9tcHRUZXh0Lmxlbmd0aCA+IDgwKSB7XG4gICAgICAgICAgICAgICAgcHJvbXB0VGV4dCA9IHByb21wdFRleHQuc3Vic3RyaW5nKDAsIDgwKSArIFwiLi4uXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAga2V5PXtgcHJvbXB0LXNlY3Rpb24tJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgYmctZ3JheS0xMDAgcm91bmRlZCBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ncmF5LTIwMCB0ZXh0LXhzIHRyYW5zaXRpb24tY29sb3JzIG1iLTFcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTYW1wbGVQcm9tcHRDbGljayhvcmlnaW5hbFRleHQpfVxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17b3JpZ2luYWxUZXh0fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtYmx1ZS02MDBcIj57dGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTgwMCBtdC0xIGl0YWxpYyBiZy13aGl0ZSBwLTEgcm91bmRlZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFwie3Byb21wdFRleHR9XCJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9LCBbc2FtcGxlUHJvbXB0cywgaGFuZGxlU2FtcGxlUHJvbXB0Q2xpY2tdKTtcblxuICAgIGNvbnN0IGhhbmRsZUNyZWF0ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChzZWxlY3RlZFJvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJDcmVhdGluZyBkYXNoYm9hcmQgd2l0aCByb2xlczpcIiwgc2VsZWN0ZWRSb2xlcyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2VsZWN0ZWQgZGFzaGJvYXJkczpcIiwgc2VsZWN0ZWREYXNoYm9hcmRzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJOdW1iZXIgb2YgZGFzaGJvYXJkczpcIiwgZGFzaGJvYXJkQ291bnQpO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGaWx0ZXIgc2tpbGxzX2RhdGEgdG8gb25seSBpbmNsdWRlIHNlbGVjdGVkIGRhc2hib2FyZHNcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkU2tpbGxzRGF0YSA9IHt9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRm9yIGVhY2ggcm9sZVxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHNraWxsc19kYXRhKS5mb3JFYWNoKHJvbGVLZXkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFNraWxsc0RhdGFbcm9sZUtleV0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSBzZWxlY3RlZCBkYXNoYm9hcmQgY2F0ZWdvcmllc1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERhc2hib2FyZHMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpbGxzX2RhdGFbcm9sZUtleV1bY2F0ZWdvcnldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRTa2lsbHNEYXRhW3JvbGVLZXldW2NhdGVnb3J5XSA9IHNraWxsc19kYXRhW3JvbGVLZXldW2NhdGVnb3J5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gUGFzcyBmaWx0ZXJlZCBkYXRhIHdpdGggZGFzaGJvYXJkIGNvdW50XG4gICAgICAgICAgICAgICAgc2VuZFNlbGVjdGVkUm9sZXMoc2VsZWN0ZWRSb2xlcyk7XG4gICAgICAgICAgICAgICAgc2VuZFJhbmdlVmFsdWUoZGFzaGJvYXJkQ291bnQpO1xuXG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBqb2JJZCBwcm92aWRlZCBhcyBwcm9wIGluc3RlYWQgb2YgdHJ5aW5nIHRvIGV4dHJhY3QgZnJvbSBVUkxcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImpvYklkIGluIGhhbmRsZUNyZWF0ZTpcIiwgam9iSWQsIFwidHlwZW9mOlwiLCB0eXBlb2Ygam9iSWQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEdldCBhIHZhbGlkIG51bWVyaWMgam9iIElELCB3aXRoIGdvb2QgZmFsbGJhY2tzXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRKb2JJZCA9IDE7IC8vIERlZmF1bHQgZmFsbGJhY2tcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoam9iSWQgIT09IHVuZGVmaW5lZCAmJiBqb2JJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBqb2JJZCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEpvYklkID0gam9iSWQ7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBqb2JJZCA9PT0gJ3N0cmluZycgJiYgam9iSWQudHJpbSgpICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gcGFyc2UgYXMgaW50ZWdlciBpZiBpdCdzIGEgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSW50KGpvYklkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudEpvYklkID0gcGFyc2VkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmluYWwgY3VycmVudEpvYklkIHZhbHVlOlwiLCBjdXJyZW50Sm9iSWQsIFwidHlwZTpcIiwgdHlwZW9mIGN1cnJlbnRKb2JJZCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgY3JlYXRlX2Rhc2hib2FyZHMgZW5kcG9pbnQgd2l0aCB0aGUgam9iX2lkIGFuZCBkYXNoYm9hcmQgY291bnRcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL3VwZGF0ZV9kYXNoYm9hcmRzLz9qb2JfaWQ9JHtjdXJyZW50Sm9iSWR9Jm51bV9kYXNoYm9hcmRzPSR7ZGFzaGJvYXJkQ291bnR9YCwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXNwb25zZSBzdGF0dXM6XCIsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXNwb25zZSBoZWFkZXJzOlwiLCBPYmplY3QuZnJvbUVudHJpZXMoWy4uLnJlc3BvbnNlLmhlYWRlcnNdKSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGVtcHR5IHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmF3IHJlc3BvbnNlOlwiLCByZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIHJlc3BvbnNlOlwiLCBwYXJzZUVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEVycm9yKGBFcnJvciBwYXJzaW5nIEFQSSByZXNwb25zZTogJHtyZXNwb25zZVRleHQuc3Vic3RyaW5nKDAsIDEwMCl9Li4uYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdHVzVGV4dCB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gYEFQSSBFcnJvciAoJHtyZXNwb25zZS5zdGF0dXN9KTogJHtzdGF0dXNUZXh0fWA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IGVycm9yIHR5cGVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQyMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlZhbGlkYXRpb24gRXJyb3IgRGV0YWlsczpcIiwgcmVzcG9uc2VEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9ybWF0IHZhbGlkYXRpb24gZXJyb3JzICh0eXBpY2FsIEZhc3RBUEkgZm9ybWF0KVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGF0YS5kZXRhaWwgJiYgQXJyYXkuaXNBcnJheShyZXNwb25zZURhdGEuZGV0YWlsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25FcnJvcnMgPSByZXNwb25zZURhdGEuZGV0YWlsLm1hcChlcnIgPT4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2Vyci5sb2Muam9pbignLicpfSAtICR7ZXJyLm1zZ31gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKS5qb2luKCc7ICcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSArPSBgIC0gVmFsaWRhdGlvbiBlcnJvcnM6ICR7dmFsaWRhdGlvbkVycm9yc31gO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmVzcG9uc2VEYXRhLmRldGFpbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgKz0gYCAtICR7SlNPTi5zdHJpbmdpZnkocmVzcG9uc2VEYXRhLmRldGFpbCl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2VEYXRhLmRldGFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSArPSBgIC0gJHtyZXNwb25zZURhdGEuZGV0YWlsfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3Igb3RoZXIgZXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLmRldGFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSArPSBgIC0gJHt0eXBlb2YgcmVzcG9uc2VEYXRhLmRldGFpbCA9PT0gJ29iamVjdCcgPyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2VEYXRhLmRldGFpbCkgOiByZXNwb25zZURhdGEuZGV0YWlsfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGFzaGJvYXJkIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5OlwiLCByZXNwb25zZURhdGEpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFBhc3MgdGhlIHJlc3BvbnNlIGRhdGEgdG8gdGhlIHBhcmVudCBjb21wb25lbnRcbiAgICAgICAgICAgICAgICBpZiAob25DcmVhdGUpIHtcbiAgICAgICAgICAgICAgICAgIG9uQ3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgcm9sZXM6IHJlc3BvbnNlRGF0YS5yb2xlcyB8fCBzZWxlY3RlZFJvbGVzLFxuICAgICAgICAgICAgICAgICAgICBza2lsbHNfZGF0YTogcmVzcG9uc2VEYXRhLnNraWxsc19kYXRhIHx8IGZpbHRlcmVkU2tpbGxzRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgbnVtX2Rhc2hib2FyZHM6IGRhc2hib2FyZENvdW50LFxuICAgICAgICAgICAgICAgICAgICAuLi5yZXNwb25zZURhdGFcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHNldE1lc3NhZ2UoXCJDcmVhdGVkIGRhc2hib2FyZCBmb3Igc2VsZWN0ZWQgcm9sZXNcIik7XG4gICAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkYXNoYm9hcmQ6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcihgRXJyb3IgY3JlYXRpbmcgZGFzaGJvYXJkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBBZGQgYSBidXR0b24gY2xpY2sgaGFuZGxlciBmb3IgdGhlIHJlZnJlc2ggYnV0dG9uIHRvIGV4cGxpY2l0bHkgZmV0Y2ggcHJvbXB0c1xuICAgIGNvbnN0IGhhbmRsZVJlZnJlc2hQcm9tcHRzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWpvYklkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGZldGNoIHByb21wdHM6IE5vIGpvYiBJRCBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTWFudWFsbHkgcmVmcmVzaGluZyBwcm9tcHRzIGZvciBqb2IgSUQ6XCIsIGpvYklkKTtcbiAgICAgICAgYXdhaXQgZmV0Y2hTYW1wbGVQcm9tcHRzKCk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LW1kXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTYgYm9yZGVyIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJwcm9tcHRJbnB1dFwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgIEVudGVyIFByb21wdFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgIGlkPVwicHJvbXB0SW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpyaW5nLWluZGlnby01MDAgZm9jdXM6Ym9yZGVyLWluZGlnby01MDBcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgcHJvbXB0IGhlcmUuLi5cIlxuICAgICAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRNZXNzYWdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlUnVuUHJvbXB0KG1lc3NhZ2UpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0zIHctZnVsbCBweS0yIHB4LTQgYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCBob3ZlcjpiZy1ncmVlbi03MDAgdHJhbnNpdGlvbi1jb2xvcnMgZGlzYWJsZWQ6YmctZ3JheS00MDBcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IW1lc3NhZ2UudHJpbSgpIHx8IGlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtpc0xvYWRpbmcgPyBcIlByb2Nlc3NpbmcuLi5cIiA6IFwiU3VibWl0IFByb21wdFwifVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5TYW1wbGUgUHJvbXB0czo8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlZnJlc2hQcm9tcHRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1ibHVlLTYwMCBob3Zlcjp0ZXh0LWJsdWUtODAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ1NhbXBsZVByb21wdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2xvYWRpbmdTYW1wbGVQcm9tcHRzID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gLW1sLTEgbXItMiBoLTQgdy00IHRleHQtYmx1ZS02MDBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzc05hbWU9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjRcIj48L2NpcmNsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBjbGFzc05hbWU9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3pcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZnJlc2hpbmcuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9XCIyXCIgZD1cIk00IDR2NWguNTgybTE1LjM1NiAyQTguMDAxIDguMDAxIDAgMDA0LjU4MiA5bTAgMEg5bTExIDExdi01aC0uNTgxbTAgMGE4LjAwMyA4LjAwMyAwIDAxLTE1LjM1Ny0ybTE1LjM1NyAySDE1XCI+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWZyZXNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7bG9hZGluZ1NhbXBsZVByb21wdHMgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZS1ibG9jayBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtNiB3LTYgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJvcmRlci1ibHVlLTUwMFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1ncmF5LTYwMCB0ZXh0LXNtXCI+TG9hZGluZyBzYW1wbGUgcHJvbXB0cy4uLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NhbXBsZVByb21wdHMgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckNsaWNrYWJsZVNhbXBsZVByb21wdHMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBiZy1ncmF5LTEwMCByb3VuZGVkIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktMjAwIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE1lc3NhZ2UoXCJTZXQgSmF2YVNjcmlwdCdzIHNlbGVjdGlvbiBzY29yZSB0byA4NS41JVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXQgSmF2YVNjcmlwdCdzIHNlbGVjdGlvbiBzY29yZSB0byA4NS41JVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBiZy1ncmF5LTEwMCByb3VuZGVkIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktMjAwIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE1lc3NhZ2UoXCJVcGRhdGUgUmVhY3QncyByYXRpbmcgdG8gNC41XCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVwZGF0ZSBSZWFjdCdzIHJhdGluZyB0byA0LjVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgYmctZ3JheS0xMDAgcm91bmRlZCBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ncmF5LTIwMCB0ZXh0LXNtIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRNZXNzYWdlKFwiQ2hhbmdlIFR5cGVTY3JpcHQncyBpbXBvcnRhbmNlIHRvIDkwLjAlXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYW5nZSBUeXBlU2NyaXB0J3MgaW1wb3J0YW5jZSB0byA5MC4wJVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBiZy1ncmF5LTEwMCByb3VuZGVkIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktMjAwIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE1lc3NhZ2UoXCJBZGp1c3QgTm9kZS5qcydzIHJlamVjdGlvbiBzY29yZSB0byAyNS4wJVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGp1c3QgTm9kZS5qcydzIHJlamVjdGlvbiBzY29yZSB0byAyNS4wJVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7bWVzc2FnZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHAtMyBiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi03MDAgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHAtMyBiZy1yZWQtMTAwIHRleHQtcmVkLTcwMCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTaWRlYmFyO1xuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJSb2xlU2VsZWN0b3IiLCJSZWFjdCIsIlNpZGViYXIiLCJyb2xlcyIsInNraWxsc19kYXRhIiwic2VuZFJhbmdlVmFsdWUiLCJvbkNyZWF0ZSIsInNlbmRTZWxlY3RlZFJvbGVzIiwib25Sb2xlU2VsZWN0Iiwib25EYXNoYm9hcmRVcGRhdGUiLCJqb2JJZCIsInNlbGVjdGVkUm9sZXMiLCJzZXRTZWxlY3RlZFJvbGVzIiwiZGFzaGJvYXJkQ291bnQiLCJzZXREYXNoYm9hcmRDb3VudCIsIm1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImF2YWlsYWJsZURhc2hib2FyZHMiLCJzZXRBdmFpbGFibGVEYXNoYm9hcmRzIiwic2VsZWN0ZWREYXNoYm9hcmRzIiwic2V0U2VsZWN0ZWREYXNoYm9hcmRzIiwic2FtcGxlUHJvbXB0cyIsInNldFNhbXBsZVByb21wdHMiLCJsb2FkaW5nU2FtcGxlUHJvbXB0cyIsInNldExvYWRpbmdTYW1wbGVQcm9tcHRzIiwidGhyZXNob2xkSWQiLCJzZXRUaHJlc2hvbGRJZCIsImdlbmVyYXRlRGFzaGJvYXJkQ29udGVudCIsInNraWxsc0RhdGEiLCJsZW5ndGgiLCJyb2xlIiwicm9sZURhdGEiLCJjb250ZW50IiwiZGFzaGJvYXJkTnVtYmVyIiwiY2F0ZWdvcnkiLCJpdGVtcyIsIml0ZW1OYW1lIiwiaXRlbSIsImltcG9ydGFuY2UiLCJyYXRpbmciLCJnZXRUaHJlc2hvbGRJZCIsImppZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsImNvbnNvbGUiLCJ3YXJuIiwic3RhdHVzIiwiZGF0YSIsImpzb24iLCJ0aHJlc2hvbGRfaWQiLCJsb2ciLCJBcnJheSIsImlzQXJyYXkiLCJwYXJzZUludCIsImZldGNoU2FtcGxlUHJvbXB0cyIsInRpZCIsInRocmVzaG9sZERhdGEiLCJ0aHJlc2hvbGRfcmVzdWx0IiwiT2JqZWN0Iiwia2V5cyIsInRpdGxlIiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJhYm9ydCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInNpZ25hbCIsImNsZWFyVGltZW91dCIsIkVycm9yIiwiZm9ybWF0dGVkUHJvbXB0cyIsIm1hcCIsInByb21wdCIsImluZGV4IiwicHJvbXB0X3RleHQiLCJqb2luIiwicG9zdEVycm9yIiwiZ2V0UmVzcG9uc2UiLCJnZXREYXRhIiwiZ2V0RXJyb3IiLCJleHRyYWN0UHJvbXB0VGV4dCIsImZ1bGxQcm9tcHRUZXh0IiwicXVvdGVNYXRjaCIsIm1hdGNoIiwiY29sb25NYXRjaCIsInRyaW0iLCJoYW5kbGVTYW1wbGVQcm9tcHRDbGljayIsInByb21wdFRleHQiLCJleHRyYWN0ZWRQcm9tcHQiLCJ0aGVuIiwicm9sZUtleSIsImNhdGVnb3JpZXMiLCJpbml0aWFsU2VsZWN0ZWQiLCJzbGljZSIsImluaXRpYWxSb2xlcyIsIm5ld1NlbGVjdGlvbiIsIm5leHRPcHRpb24iLCJmaW5kIiwib3B0IiwiaW5jbHVkZXMiLCJwdXNoIiwiaGFuZGxlRGFzaGJvYXJkQ291bnRDaGFuZ2UiLCJlIiwiY291bnQiLCJ0YXJnZXQiLCJ2YWx1ZSIsImhhbmRsZVJvbGVDaGFuZ2UiLCJ1cGRhdGVkUm9sZXMiLCJmaWx0ZXIiLCJyIiwiaGFuZGxlRGFzaGJvYXJkU2VsZWN0aW9uIiwiZGFzaGJvYXJkIiwiZCIsInBvcCIsImhhbmRsZVJ1blByb21wdCIsIlN0cmluZyIsInVwZGF0ZWRTa2lsbHNEYXRhIiwibWFudWFsbHlBcHBseUNoYW5nZXMiLCJzYW5pdGl6ZWRTa2lsbHNEYXRhIiwidXBkYXRlUmVzcG9uc2UiLCJqb2JfaWQiLCJjb250ZW50VHlwZSIsImdldCIsImVycm9yTWVzc2FnZSIsImVycm9yRGF0YSIsImRldGFpbCIsImpzb25FcnJvciIsImVycm9yVGV4dCIsInRleHQiLCJzdWJzdHJpbmciLCJ1cGRhdGVEYXRhIiwicGFyc2VFcnJvciIsInJlc3BvbnNlVGV4dCIsInByb2Nlc3NSZXNwb25zZSIsInByb2Nlc3NEYXRhIiwicHJvY2Vzc0Vycm9yIiwiYWxlcnQiLCJhcGlFcnJvciIsImN1cnJlbnRTa2lsbHNEYXRhIiwic2tpbGxzRGF0YU9iaiIsInBhcnNlIiwibGluZXMiLCJzcGxpdCIsImxpbmUiLCJza2lsbE5hbWUiLCJuZXdWYWx1ZSIsImlzUmF0aW5nIiwidmFsdWVNYXRjaCIsInBhcnNlRmxvYXQiLCJyb2xlS2V5cyIsImZvdW5kIiwicmVuZGVyQ2xpY2thYmxlU2FtcGxlUHJvbXB0cyIsInByb21wdHNUZXh0Iiwic2VjdGlvbnMiLCJCb29sZWFuIiwiZGl2IiwiY2xhc3NOYW1lIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJyZXBsYWNlIiwic2VjdGlvbiIsInRpdGxlTWF0Y2giLCJvcmlnaW5hbFRleHQiLCJvbkNsaWNrIiwiaGFuZGxlQ3JlYXRlIiwiZmlsdGVyZWRTa2lsbHNEYXRhIiwiZm9yRWFjaCIsImN1cnJlbnRKb2JJZCIsInVuZGVmaW5lZCIsInBhcnNlZCIsImlzTmFOIiwiZnJvbUVudHJpZXMiLCJyZXNwb25zZURhdGEiLCJzdGF0dXNUZXh0IiwidmFsaWRhdGlvbkVycm9ycyIsImVyciIsImxvYyIsIm1zZyIsIm51bV9kYXNoYm9hcmRzIiwiaGFuZGxlUmVmcmVzaFByb21wdHMiLCJsYWJlbCIsImh0bWxGb3IiLCJ0ZXh0YXJlYSIsImlkIiwicGxhY2Vob2xkZXIiLCJyb3dzIiwib25DaGFuZ2UiLCJidXR0b24iLCJkaXNhYmxlZCIsInAiLCJzcGFuIiwic3ZnIiwieG1sbnMiLCJmaWxsIiwidmlld0JveCIsImNpcmNsZSIsImN4IiwiY3kiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/components/Jd_threshold/sidebarCreate.jsx\n"));

/***/ })

});